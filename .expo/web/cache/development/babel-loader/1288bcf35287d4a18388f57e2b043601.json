{"ast":null,"code":"\"use strict\";\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _excluded = [\"hideDragIndicator\", \"children\", \"handleClose\", \"pan\", \"sheetHeight\"],\n    _excluded2 = [\"_dragIndicator\", \"_dragIndicatorWrapperOffSet\", \"_dragIndicatorWrapper\"],\n    _excluded3 = [\"children\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Modal = require(\"../../composites/Modal\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _Context = require(\"../Modal/Context\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _ActionSheetContext = require(\"./ActionSheetContext\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar Content = (0, _react.memo)((0, _react.forwardRef)(function (_ref, ref) {\n  var hideDragIndicator = _ref.hideDragIndicator,\n      children = _ref.children,\n      handleClose = _ref.handleClose,\n      pan = _ref.pan,\n      sheetHeight = _ref.sheetHeight,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _ref2 = (0, _hooks.usePropsResolution)(\"ActionsheetContent\", props),\n      _dragIndicator = _ref2._dragIndicator,\n      _dragIndicatorWrapperOffSet = _ref2._dragIndicatorWrapperOffSet,\n      _dragIndicatorWrapper = _ref2._dragIndicatorWrapper,\n      resolvedProps = _objectWithoutProperties(_ref2, _excluded2);\n\n  var handleCloseRef = _react.default.useRef(null);\n\n  var handleCloseCallback = _react.default.useCallback(function () {\n    var handleCloseCurrent = handleCloseRef.current;\n    return handleCloseCurrent();\n  }, []);\n\n  _react.default.useEffect(function () {\n    handleCloseRef.current = handleClose;\n  }, [handleClose]);\n\n  var panResponder = _react.default.useRef(_reactNative.PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(_evt, gestureState) {\n      return gestureState.dy > 15;\n    },\n    onPanResponderMove: function onPanResponderMove(e, gestureState) {\n      if (gestureState.dy > 0) {\n        _reactNative.Animated.event([null, {\n          dy: pan.y\n        }], {\n          useNativeDriver: false\n        })(e, gestureState);\n      }\n    },\n    onPanResponderRelease: function onPanResponderRelease(_e, gestureState) {\n      if (sheetHeight.current / 4 - gestureState.dy < 0) {\n        _reactNative.Animated.timing(pan, {\n          toValue: {\n            x: 0,\n            y: sheetHeight.current\n          },\n          duration: 150,\n          useNativeDriver: true\n        }).start(handleCloseCallback);\n\n        setTimeout(function () {\n          _reactNative.Animated.timing(pan, {\n            toValue: {\n              x: 0,\n              y: 0\n            },\n            duration: 150,\n            useNativeDriver: true\n          }).start();\n        }, 300);\n      } else {\n        _reactNative.Animated.spring(pan, {\n          toValue: {\n            x: 0,\n            y: 0\n          },\n          overshootClamping: true,\n          useNativeDriver: true\n        }).start();\n      }\n    }\n  })).current;\n\n  return _react.default.createElement(_react.default.Fragment, null, !hideDragIndicator ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Box.default, _extends({}, panResponder.panHandlers, _dragIndicatorWrapperOffSet))) : null, _react.default.createElement(_Modal.Modal.Content, _extends({}, resolvedProps, {\n    ref: ref,\n    safeAreaBottom: true\n  }), !hideDragIndicator ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Box.default, _extends({}, panResponder.panHandlers, _dragIndicatorWrapper), _react.default.createElement(_Box.default, _dragIndicator))) : null, children));\n}));\n\nvar ActionsheetContent = function ActionsheetContent(_ref3, ref) {\n  var children = _ref3.children,\n      props = _objectWithoutProperties(_ref3, _excluded3);\n\n  var _react$default$useCon = _react.default.useContext(_Context.ModalContext),\n      handleClose = _react$default$useCon.handleClose;\n\n  var _react$default$useCon2 = _react.default.useContext(_ActionSheetContext.ActionSheetContext),\n      hideDragIndicator = _react$default$useCon2.hideDragIndicator;\n\n  var pan = _react.default.useRef(new _reactNative.Animated.ValueXY()).current;\n\n  var sheetHeight = _react.default.useRef(0);\n\n  var handleCloseCallback = _react.default.useCallback(handleClose, [_Context.ModalContext, handleClose]);\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return _react.default.createElement(_reactNative.Animated.View, {\n    style: {\n      transform: [{\n        translateY: pan.y\n      }],\n      width: \"100%\"\n    },\n    onLayout: function onLayout(event) {\n      var height = event.nativeEvent.layout.height;\n      sheetHeight.current = height;\n    },\n    pointerEvents: \"box-none\"\n  }, _react.default.createElement(Content, _extends({\n    children: children,\n    sheetHeight: sheetHeight,\n    pan: pan,\n    hideDragIndicator: hideDragIndicator,\n    handleClose: handleCloseCallback,\n    ref: ref\n  }, props)));\n};\n\nvar _default = (0, _react.memo)((0, _react.forwardRef)(ActionsheetContent));\n\nexports.default = _default;","map":{"version":3,"sources":["D:\\codes\\Next\\pomodoro-dash\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\Actionsheet\\ActionsheetContent.js"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireWildcard","require","_Modal","_hooks","_Context","_Box","_interopRequireDefault","_ActionSheetContext","_useHasResponsiveProps","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","Content","memo","forwardRef","hideDragIndicator","children","handleClose","pan","sheetHeight","props","ref","_dragIndicator","_dragIndicatorWrapperOffSet","_dragIndicatorWrapper","resolvedProps","usePropsResolution","handleCloseRef","useRef","handleCloseCallback","useCallback","handleCloseCurrent","current","useEffect","panResponder","_reactNative","PanResponder","create","onStartShouldSetPanResponder","onMoveShouldSetPanResponder","_evt","gestureState","dy","onPanResponderMove","e","Animated","event","y","useNativeDriver","onPanResponderRelease","_e","timing","toValue","x","duration","start","setTimeout","spring","overshootClamping","createElement","Fragment","panHandlers","Modal","safeAreaBottom","ActionsheetContent","useContext","ModalContext","ActionSheetContext","ValueXY","useHasResponsiveProps","View","style","transform","translateY","width","onLayout","height","nativeEvent","layout","pointerEvents","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Modal = require(\"../../composites/Modal\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _Context = require(\"../Modal/Context\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _ActionSheetContext = require(\"./ActionSheetContext\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst Content = /*#__PURE__*/(0, _react.memo)( /*#__PURE__*/(0, _react.forwardRef)(({\n  hideDragIndicator,\n  children,\n  handleClose,\n  pan,\n  sheetHeight,\n  ...props\n}, ref) => {\n  const {\n    _dragIndicator,\n    _dragIndicatorWrapperOffSet,\n    _dragIndicatorWrapper,\n    ...resolvedProps\n  } = (0, _hooks.usePropsResolution)('ActionsheetContent', props);\n\n  const handleCloseRef = _react.default.useRef(null);\n\n  const handleCloseCallback = _react.default.useCallback(() => {\n    let handleCloseCurrent = handleCloseRef.current; //@ts-ignore\n\n    return handleCloseCurrent();\n  }, []);\n\n  _react.default.useEffect(() => {\n    handleCloseRef.current = handleClose;\n  }, [handleClose]);\n\n  const panResponder = _react.default.useRef(_reactNative.PanResponder.create({\n    onStartShouldSetPanResponder: () => true,\n    onMoveShouldSetPanResponder: (_evt, gestureState) => {\n      return gestureState.dy > 15;\n    },\n    onPanResponderMove: (e, gestureState) => {\n      if (gestureState.dy > 0) {\n        _reactNative.Animated.event([null, {\n          dy: pan.y\n        }], {\n          useNativeDriver: false\n        })(e, gestureState);\n      }\n    },\n    onPanResponderRelease: (_e, gestureState) => {\n      // If sheet is dragged 1/4th of it's height, close it\n      if (sheetHeight.current / 4 - gestureState.dy < 0) {\n        _reactNative.Animated.timing(pan, {\n          toValue: {\n            x: 0,\n            y: sheetHeight.current\n          },\n          duration: 150,\n          useNativeDriver: true\n        }).start(handleCloseCallback);\n\n        setTimeout(() => {\n          _reactNative.Animated.timing(pan, {\n            toValue: {\n              x: 0,\n              y: 0\n            },\n            duration: 150,\n            useNativeDriver: true\n          }).start();\n        }, 300);\n      } else {\n        _reactNative.Animated.spring(pan, {\n          toValue: {\n            x: 0,\n            y: 0\n          },\n          overshootClamping: true,\n          useNativeDriver: true\n        }).start();\n      }\n    }\n  })).current;\n\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, !hideDragIndicator ? /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_Box.default, _extends({}, panResponder.panHandlers, _dragIndicatorWrapperOffSet))) : null, /*#__PURE__*/_react.default.createElement(_Modal.Modal.Content, _extends({}, resolvedProps, {\n    ref: ref,\n    safeAreaBottom: true\n  }), !hideDragIndicator ? /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_Box.default, _extends({}, panResponder.panHandlers, _dragIndicatorWrapper), /*#__PURE__*/_react.default.createElement(_Box.default, _dragIndicator))) : null, children));\n}));\n\nconst ActionsheetContent = ({\n  children,\n  ...props\n}, ref) => {\n  // return null;\n  const {\n    handleClose\n  } = _react.default.useContext(_Context.ModalContext);\n\n  const {\n    hideDragIndicator\n  } = _react.default.useContext(_ActionSheetContext.ActionSheetContext);\n\n  const pan = _react.default.useRef(new _reactNative.Animated.ValueXY()).current;\n\n  const sheetHeight = _react.default.useRef(0);\n\n  const handleCloseCallback = _react.default.useCallback(handleClose, [_Context.ModalContext, handleClose]); // useEffect(() => {\n  // }, [])\n  //TODO: refactor for responsive prop\n\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_reactNative.Animated.View, {\n    style: {\n      transform: [{\n        translateY: pan.y\n      }],\n      width: '100%'\n    },\n    onLayout: event => {\n      const {\n        height\n      } = event.nativeEvent.layout;\n      sheetHeight.current = height;\n    },\n    pointerEvents: \"box-none\"\n  }, /*#__PURE__*/_react.default.createElement(Content, _extends({\n    children: children,\n    sheetHeight: sheetHeight,\n    pan: pan,\n    hideDragIndicator: hideDragIndicator,\n    handleClose: handleCloseCallback,\n    ref: ref\n  }, props)));\n};\n\nvar _default = /*#__PURE__*/(0, _react.memo)( /*#__PURE__*/(0, _react.forwardRef)(ActionsheetContent));\n\nexports.default = _default;\n//# sourceMappingURL=ActionsheetContent.js.map"]},"metadata":{},"sourceType":"script"}