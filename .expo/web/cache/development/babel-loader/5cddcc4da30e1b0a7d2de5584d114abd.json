{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _INITIAL_PROP_SPECIFI;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propsFlattener = exports.compareSpecificity = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.merge\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar SPECIFICITY_1000 = 1000;\nvar SPECIFICITY_110 = 110;\nvar SPECIFICITY_100 = 100;\nvar SPECIFICITY_70 = 70;\nvar SPECIFICITY_60 = 60;\nvar SPECIFICITY_55 = 55;\nvar SPECIFICITY_50 = 50;\nvar SPECIFICITY_40 = 40;\nvar SPECIFICITY_30 = 30;\nvar SPECIFICITY_20 = 20;\nvar SPECIFICITY_10 = 10;\nvar specificityPrecedence = [SPECIFICITY_1000, SPECIFICITY_110, SPECIFICITY_100, SPECIFICITY_70, SPECIFICITY_60, SPECIFICITY_55, SPECIFICITY_50, SPECIFICITY_40, SPECIFICITY_30, SPECIFICITY_20, SPECIFICITY_10];\nvar INITIAL_PROP_SPECIFICITY = (_INITIAL_PROP_SPECIFI = {}, _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_1000, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_110, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_100, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_70, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_60, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_50, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_55, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_40, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_30, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_20, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_10, 0), _INITIAL_PROP_SPECIFI);\nvar pseudoPropsMap = {\n  _web: {\n    dependentOn: \"platform\",\n    priority: SPECIFICITY_10\n  },\n  _ios: {\n    dependentOn: \"platform\",\n    priority: SPECIFICITY_10\n  },\n  _android: {\n    dependentOn: \"platform\",\n    priority: SPECIFICITY_10\n  },\n  _light: {\n    dependentOn: \"colormode\",\n    priority: SPECIFICITY_10\n  },\n  _dark: {\n    dependentOn: \"colormode\",\n    priority: SPECIFICITY_10\n  },\n  _indeterminate: {\n    dependentOn: \"state\",\n    respondTo: \"isIndeterminate\",\n    priority: SPECIFICITY_30\n  },\n  _checked: {\n    dependentOn: \"state\",\n    respondTo: \"isChecked\",\n    priority: SPECIFICITY_30\n  },\n  _readOnly: {\n    dependentOn: \"state\",\n    respondTo: \"isReadOnly\",\n    priority: SPECIFICITY_30\n  },\n  _invalid: {\n    dependentOn: \"state\",\n    respondTo: \"isInvalid\",\n    priority: SPECIFICITY_40\n  },\n  _focus: {\n    dependentOn: \"state\",\n    respondTo: \"isFocused\",\n    priority: SPECIFICITY_50\n  },\n  _focusVisible: {\n    dependentOn: \"state\",\n    respondTo: \"isFocusVisible\",\n    priority: SPECIFICITY_55\n  },\n  _hover: {\n    dependentOn: \"state\",\n    respondTo: \"isHovered\",\n    priority: SPECIFICITY_60\n  },\n  _pressed: {\n    dependentOn: \"state\",\n    respondTo: \"isPressed\",\n    priority: SPECIFICITY_70\n  },\n  _disabled: {\n    dependentOn: \"state\",\n    respondTo: \"isDisabled\",\n    priority: SPECIFICITY_100\n  },\n  _loading: {\n    dependentOn: \"state\",\n    respondTo: \"isLoading\",\n    priority: SPECIFICITY_110\n  },\n  _important: {\n    dependentOn: null,\n    priority: SPECIFICITY_1000\n  }\n};\n\nvar compareSpecificity = function compareSpecificity(exisiting, upcoming, ignorebaseTheme) {\n  if (!exisiting) return true;\n  if (!upcoming) return false;\n  var condition = ignorebaseTheme ? specificityPrecedence.length - 1 : specificityPrecedence.length;\n\n  for (var index = 0; index < condition; index++) {\n    if (exisiting[specificityPrecedence[index]] > upcoming[specificityPrecedence[index]]) {\n      return false;\n    } else if (exisiting[specificityPrecedence[index]] < upcoming[specificityPrecedence[index]]) {\n      return true;\n    }\n  }\n\n  return true;\n};\n\nexports.compareSpecificity = compareSpecificity;\n\nvar shouldResolvePseudoProp = function shouldResolvePseudoProp(_ref) {\n  var property = _ref.property,\n      state = _ref.state,\n      platform = _ref.platform,\n      colormode = _ref.colormode;\n\n  if (pseudoPropsMap[property].dependentOn === \"platform\") {\n    return property === \"_\".concat(platform);\n  } else if (pseudoPropsMap[property].dependentOn === \"colormode\") {\n    return property === \"_\".concat(colormode);\n  } else if (pseudoPropsMap[property].dependentOn === \"state\") {\n    return state[pseudoPropsMap[property].respondTo];\n  } else if (pseudoPropsMap[property].dependentOn === null) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nvar simplifyProps = function simplifyProps(_ref2) {\n  var props = _ref2.props,\n      colormode = _ref2.colormode,\n      platform = _ref2.platform,\n      state = _ref2.state,\n      currentSpecificity = _ref2.currentSpecificity,\n      previouslyFlattenProps = _ref2.previouslyFlattenProps,\n      cascadePseudoProps = _ref2.cascadePseudoProps;\n  var flattenProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var specificityMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var priority = arguments.length > 3 ? arguments[3] : undefined;\n\n  var mergePsuedoProps = function mergePsuedoProps(property, propertySpecity) {\n    if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n      if (\"development\" === \"development\" && props.debug) {\n        console.log(\"%c \".concat(property), \"color: #818cf8;\", \"updated as internal prop with higher specificity\");\n      }\n\n      specificityMap[property] = propertySpecity;\n      flattenProps[property] = (0, _lodash.default)({}, flattenProps[property], props[property]);\n    } else {\n      if (\"development\" === \"development\" && props.debug) {\n        console.log(\"%c \".concat(property), \"color: #818cf8;\", \"updated as internal prop with lower specificity\");\n      }\n\n      flattenProps[property] = (0, _lodash.default)({}, props[property], flattenProps[property]);\n    }\n  };\n\n  for (var property in props) {\n    var _pseudoPropsMap$prope;\n\n    var propertySpecity = currentSpecificity ? _objectSpread({}, currentSpecificity) : _objectSpread(_objectSpread({}, INITIAL_PROP_SPECIFICITY), {}, _defineProperty({}, SPECIFICITY_20, priority));\n\n    if (state[(_pseudoPropsMap$prope = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope === void 0 ? void 0 : _pseudoPropsMap$prope.respondTo] || [\"_dark\", \"_light\", \"_web\", \"_ios\", \"_android\", \"_important\"].includes(property)) {\n      if (shouldResolvePseudoProp({\n        property: property,\n        state: state,\n        platform: platform,\n        colormode: colormode\n      })) {\n        if (\"development\" === \"development\" && props.debug) {\n          console.log(\"%c \".concat(property), \"color: #818cf8;\", \"recursively resolving\");\n        }\n\n        propertySpecity[pseudoPropsMap[property].priority]++;\n        simplifyProps({\n          props: props[property],\n          colormode: colormode,\n          platform: platform,\n          state: state,\n          currentSpecificity: propertySpecity,\n          previouslyFlattenProps: previouslyFlattenProps,\n          cascadePseudoProps: cascadePseudoProps\n        }, flattenProps, specificityMap, priority);\n      }\n    } else if (pseudoPropsMap[property] === undefined) {\n      if (property.startsWith(\"_\")) {\n        mergePsuedoProps(property, propertySpecity);\n      } else {\n        if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n          if (\"development\" === \"development\" && props.debug) {\n            console.log(\"%c \".concat(property), \"color: #818cf8;\", \"updated as simple prop\");\n          }\n\n          specificityMap[property] = propertySpecity;\n          flattenProps[property] = props[property];\n        } else {\n          if (\"development\" === \"development\" && props.debug) {\n            console.log(\"%c \".concat(property), \"color: #818cf8;\", \"ignored\");\n          }\n        }\n      }\n    } else {\n      if (!cascadePseudoProps) {\n        delete flattenProps[property];\n\n        if (\"development\" === \"development\" && props.debug) {\n          console.log(\"%c \".concat(property), \"color: #818cf8;\", \"deleted\");\n        }\n      } else {\n        if (\"development\" === \"development\" && props.debug) {\n          console.log(\"%c \".concat(property), \"color: #818cf8;\", \"cascaded\");\n        }\n\n        mergePsuedoProps(property, propertySpecity);\n      }\n    }\n  }\n};\n\nvar propsFlattener = function propsFlattener(_ref3, priority) {\n  var props = _ref3.props,\n      colormode = _ref3.colormode,\n      platform = _ref3.platform,\n      state = _ref3.state,\n      currentSpecificityMap = _ref3.currentSpecificityMap,\n      previouslyFlattenProps = _ref3.previouslyFlattenProps,\n      cascadePseudoProps = _ref3.cascadePseudoProps;\n  var flattenProps = {};\n\n  for (var property in props) {\n    var _pseudoPropsMap$prope2;\n\n    if (state[(_pseudoPropsMap$prope2 = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope2 === void 0 ? void 0 : _pseudoPropsMap$prope2.respondTo] === undefined && property.startsWith(\"_\")) {\n      flattenProps[property] = previouslyFlattenProps[property];\n    }\n  }\n\n  var specificityMap = currentSpecificityMap || {};\n  simplifyProps({\n    props: props,\n    colormode: colormode,\n    platform: platform,\n    state: state,\n    currentSpecificityMap: currentSpecificityMap,\n    previouslyFlattenProps: previouslyFlattenProps,\n    cascadePseudoProps: cascadePseudoProps\n  }, flattenProps, specificityMap, priority);\n  return [flattenProps, specificityMap];\n};\n\nexports.propsFlattener = propsFlattener;","map":{"version":3,"sources":["D:\\codes\\Next\\pomodoro-dash\\node_modules\\native-base\\lib\\commonjs\\hooks\\useThemeProps\\propsFlattener.js"],"names":["Object","defineProperty","exports","value","propsFlattener","compareSpecificity","_lodash","_interopRequireDefault","require","obj","__esModule","default","SPECIFICITY_1000","SPECIFICITY_110","SPECIFICITY_100","SPECIFICITY_70","SPECIFICITY_60","SPECIFICITY_55","SPECIFICITY_50","SPECIFICITY_40","SPECIFICITY_30","SPECIFICITY_20","SPECIFICITY_10","specificityPrecedence","INITIAL_PROP_SPECIFICITY","pseudoPropsMap","_web","dependentOn","priority","_ios","_android","_light","_dark","_indeterminate","respondTo","_checked","_readOnly","_invalid","_focus","_focusVisible","_hover","_pressed","_disabled","_loading","_important","exisiting","upcoming","ignorebaseTheme","condition","length","index","shouldResolvePseudoProp","property","state","platform","colormode","concat","simplifyProps","props","currentSpecificity","previouslyFlattenProps","cascadePseudoProps","flattenProps","specificityMap","mergePsuedoProps","propertySpecity","debug","console","log","_pseudoPropsMap$prope","includes","undefined","startsWith","currentSpecificityMap","_pseudoPropsMap$prope2"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propsFlattener = exports.compareSpecificity = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.merge\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SPECIFICITY_1000 = 1000;\nconst SPECIFICITY_110 = 110;\nconst SPECIFICITY_100 = 100;\nconst SPECIFICITY_70 = 70;\nconst SPECIFICITY_60 = 60;\nconst SPECIFICITY_55 = 55;\nconst SPECIFICITY_50 = 50;\nconst SPECIFICITY_40 = 40;\nconst SPECIFICITY_30 = 30; // SPECIFICITY_20 is being user for defferentiating between User Props and Theme Props. So any specificity less than SPECIFICITY_20 will be ovridable by user props.\n\nconst SPECIFICITY_20 = 20;\nconst SPECIFICITY_10 = 10;\nconst specificityPrecedence = [SPECIFICITY_1000, SPECIFICITY_110, SPECIFICITY_100, SPECIFICITY_70, SPECIFICITY_60, SPECIFICITY_55, SPECIFICITY_50, SPECIFICITY_40, SPECIFICITY_30, SPECIFICITY_20, SPECIFICITY_10];\nconst INITIAL_PROP_SPECIFICITY = {\n  [SPECIFICITY_1000]: 0,\n  [SPECIFICITY_110]: 0,\n  [SPECIFICITY_100]: 0,\n  [SPECIFICITY_70]: 0,\n  [SPECIFICITY_60]: 0,\n  [SPECIFICITY_50]: 0,\n  [SPECIFICITY_55]: 0,\n  [SPECIFICITY_40]: 0,\n  [SPECIFICITY_30]: 0,\n  [SPECIFICITY_20]: 0,\n  [SPECIFICITY_10]: 0\n};\nconst pseudoPropsMap = {\n  _web: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _ios: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _android: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _light: {\n    dependentOn: 'colormode',\n    priority: SPECIFICITY_10\n  },\n  _dark: {\n    dependentOn: 'colormode',\n    priority: SPECIFICITY_10\n  },\n  // TODO: have to add more interactionProps and stateProps\n  _indeterminate: {\n    dependentOn: 'state',\n    respondTo: 'isIndeterminate',\n    priority: SPECIFICITY_30\n  },\n  _checked: {\n    dependentOn: 'state',\n    respondTo: 'isChecked',\n    priority: SPECIFICITY_30\n  },\n  // Add new pseudeo props in between -------\n  _readOnly: {\n    dependentOn: 'state',\n    respondTo: 'isReadOnly',\n    priority: SPECIFICITY_30\n  },\n  // Add new pseudeo props in between -------\n  _invalid: {\n    dependentOn: 'state',\n    respondTo: 'isInvalid',\n    priority: SPECIFICITY_40\n  },\n  _focus: {\n    dependentOn: 'state',\n    respondTo: 'isFocused',\n    priority: SPECIFICITY_50\n  },\n  _focusVisible: {\n    dependentOn: 'state',\n    respondTo: 'isFocusVisible',\n    priority: SPECIFICITY_55\n  },\n  _hover: {\n    dependentOn: 'state',\n    respondTo: 'isHovered',\n    priority: SPECIFICITY_60\n  },\n  _pressed: {\n    dependentOn: 'state',\n    respondTo: 'isPressed',\n    priority: SPECIFICITY_70\n  },\n  _disabled: {\n    dependentOn: 'state',\n    respondTo: 'isDisabled',\n    priority: SPECIFICITY_100\n  },\n  _loading: {\n    dependentOn: 'state',\n    respondTo: 'isLoading',\n    priority: SPECIFICITY_110\n  },\n  _important: {\n    dependentOn: null,\n    priority: SPECIFICITY_1000\n  }\n};\n\nconst compareSpecificity = (exisiting, upcoming, ignorebaseTheme) => // property?: any\n{\n  if (!exisiting) return true;\n  if (!upcoming) return false;\n  const condition = ignorebaseTheme ? specificityPrecedence.length - 1 : specificityPrecedence.length;\n\n  for (let index = 0; index < condition; index++) {\n    if (exisiting[specificityPrecedence[index]] > upcoming[specificityPrecedence[index]]) {\n      return false;\n    } else if (exisiting[specificityPrecedence[index]] < upcoming[specificityPrecedence[index]]) {\n      return true;\n    }\n  }\n\n  return true;\n};\n\nexports.compareSpecificity = compareSpecificity;\n\nconst shouldResolvePseudoProp = ({\n  property,\n  state,\n  platform,\n  colormode\n}) => {\n  if (pseudoPropsMap[property].dependentOn === 'platform') {\n    return property === \"_\".concat(platform);\n  } else if (pseudoPropsMap[property].dependentOn === 'colormode') {\n    return property === \"_\".concat(colormode);\n  } else if (pseudoPropsMap[property].dependentOn === 'state') {\n    // @ts-ignore\n    return state[pseudoPropsMap[property].respondTo];\n  } else if (pseudoPropsMap[property].dependentOn === null) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst simplifyProps = ({\n  props,\n  colormode,\n  platform,\n  state,\n  currentSpecificity,\n  previouslyFlattenProps,\n  cascadePseudoProps\n}, flattenProps = {}, specificityMap = {}, priority) => {\n  const mergePsuedoProps = (property, propertySpecity) => {\n    if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n      if (process.env.NODE_ENV === 'development' && props.debug) {\n        /* eslint-disable-next-line */\n        console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as internal prop with higher specificity');\n      }\n\n      specificityMap[property] = propertySpecity; // merging internal props (like, _text, _stack ...)\n\n      flattenProps[property] = (0, _lodash.default)({}, flattenProps[property], props[property]);\n    } else {\n      if (process.env.NODE_ENV === 'development' && props.debug) {\n        /* eslint-disable-next-line */\n        console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as internal prop with lower specificity');\n      }\n\n      flattenProps[property] = (0, _lodash.default)({}, props[property], flattenProps[property]);\n    }\n  };\n\n  for (const property in props) {\n    var _pseudoPropsMap$prope;\n\n    // NOTE: the order is important here. Keep in mind while specificity breakpoints.\n    const propertySpecity = currentSpecificity ? { ...currentSpecificity\n    } : { ...INITIAL_PROP_SPECIFICITY,\n      [SPECIFICITY_20]: priority\n    };\n\n    if ( // @ts-ignore\n    state[(_pseudoPropsMap$prope = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope === void 0 ? void 0 : _pseudoPropsMap$prope.respondTo] || ['_dark', '_light', '_web', '_ios', '_android', '_important'].includes(property)) {\n      // @ts-ignore\n      if (shouldResolvePseudoProp({\n        property,\n        state,\n        platform,\n        colormode\n      })) {\n        // NOTE: Handling (state driven) props like _important, _web, _ios, _android, _dark, _light, _disabled, _focus, _focusVisible, _hover, _pressed, _readOnly, _invalid, .... Only when they are true.\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'recursively resolving');\n        } // @ts-ignore\n\n\n        propertySpecity[pseudoPropsMap[property].priority]++;\n        simplifyProps({\n          props: props[property],\n          colormode,\n          platform,\n          state,\n          currentSpecificity: propertySpecity,\n          previouslyFlattenProps: previouslyFlattenProps,\n          cascadePseudoProps\n        }, flattenProps, specificityMap, priority);\n      } // @ts-ignore\n\n    } else if (pseudoPropsMap[property] === undefined) {\n      if (property.startsWith('_')) {\n        // NOTE: Handling (internal) props like _text, _stack, ....\n        mergePsuedoProps(property, propertySpecity);\n      } else {\n        if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n          if (process.env.NODE_ENV === 'development' && props.debug) {\n            /* eslint-disable-next-line */\n            console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as simple prop');\n          }\n\n          specificityMap[property] = propertySpecity; // replacing simple props (like, p, m, bg, color, ...)\n\n          flattenProps[property] = props[property];\n        } else {\n          if (process.env.NODE_ENV === 'development' && props.debug) {\n            /* eslint-disable-next-line */\n            console.log(\"%c \".concat(property), 'color: #818cf8;', 'ignored');\n          }\n        }\n      }\n    } else {\n      // Can delete unused props\n      if (!cascadePseudoProps) {\n        delete flattenProps[property];\n\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'deleted');\n        }\n      } else {\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'cascaded');\n        }\n\n        mergePsuedoProps(property, propertySpecity);\n      }\n    }\n  }\n};\n\nconst propsFlattener = ({\n  props,\n  colormode,\n  platform,\n  state,\n  currentSpecificityMap,\n  previouslyFlattenProps,\n  cascadePseudoProps\n}, priority) => {\n  const flattenProps = {};\n\n  for (const property in props) {\n    var _pseudoPropsMap$prope2;\n\n    if ( // @ts-ignore\n    state[(_pseudoPropsMap$prope2 = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope2 === void 0 ? void 0 : _pseudoPropsMap$prope2.respondTo] === undefined && property.startsWith('_')) {\n      flattenProps[property] = previouslyFlattenProps[property];\n    }\n  }\n\n  const specificityMap = currentSpecificityMap || {};\n  simplifyProps({\n    props,\n    colormode,\n    platform,\n    state,\n    currentSpecificityMap,\n    previouslyFlattenProps,\n    cascadePseudoProps\n  }, flattenProps, specificityMap, priority);\n  return [flattenProps, specificityMap];\n};\n\nexports.propsFlattener = propsFlattener;\n//# sourceMappingURL=propsFlattener.js.map"]},"metadata":{},"sourceType":"script"}