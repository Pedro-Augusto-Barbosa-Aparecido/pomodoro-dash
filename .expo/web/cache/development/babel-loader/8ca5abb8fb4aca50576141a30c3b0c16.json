{"ast":null,"code":"import { canUseDOM } from \"fbjs/lib/ExecutionEnvironment\";\nimport createCSSStyleSheet from \"./createCSSStyleSheet\";\nimport createCompileableStyle from \"./createCompileableStyle\";\nimport createOrderedCSSStyleSheet from \"./createOrderedCSSStyleSheet\";\nimport flattenArray from \"../../modules/flattenArray\";\nimport flattenStyle from \"./flattenStyle\";\nimport I18nManager from \"../I18nManager\";\nimport i18nStyle from \"./i18nStyle\";\nimport { atomic, classic, inline, stringifyValueWithProperty } from \"./compile\";\nimport initialRules from \"./initialRules\";\nimport modality from \"./modality\";\nimport { STYLE_ELEMENT_ID, STYLE_GROUPS } from \"./constants\";\nexport default function createStyleResolver() {\n  var addToCache = function addToCache(className, prop, value) {\n    if (!cache[prop]) {\n      cache[prop] = {};\n    }\n\n    cache[prop][value] = className;\n  };\n\n  var getClassName = function getClassName(prop, value) {\n    var val = stringifyValueWithProperty(value, prop);\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  };\n\n  var _injectRegisteredStyle = function _injectRegisteredStyle(id) {\n    var _I18nManager$getConst = I18nManager.getConstants(),\n        doLeftAndRightSwapInRTL = _I18nManager$getConst.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager$getConst.isRTL;\n\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? \"rtl\" : \"rtlNoSwap\" : \"ltr\";\n\n    if (!inserted[dir][id]) {\n      var style = createCompileableStyle(i18nStyle(flattenStyle(id)));\n      var results = atomic(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToCache(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = STYLE_GROUPS.custom[property] || STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  };\n\n  var resolve = function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      flattenArray(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === \"number\") {\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      props = _resolveStyle(style);\n    } else {\n      var flatArray = flattenArray(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = \"\";\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== \"number\") {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + \"-\";\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  };\n\n  var _resolveStyle = function _resolveStyle(style, key) {\n    var _I18nManager$getConst2 = I18nManager.getConstants(),\n        doLeftAndRightSwapInRTL = _I18nManager$getConst2.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager$getConst2.isRTL;\n\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? \"rtl\" : \"rtlNoSwap\" : \"ltr\";\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = flattenStyle(style);\n    var localizedStyle = createCompileableStyle(i18nStyle(flatStyle));\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          if (styleProp === \"animationKeyframes\" || styleProp === \"placeholderTextColor\" || styleProp === \"pointerEvents\" || styleProp === \"scrollbarWidth\") {\n            var _atomic;\n\n            var a = atomic((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.keys(a).forEach(function (key) {\n              var _a$key = a[key],\n                  identifier = _a$key.identifier,\n                  rules = _a$key.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            }\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = inline(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  };\n\n  var inserted, sheet, cache;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = createOrderedCSSStyleSheet(createCSSStyleSheet(STYLE_ELEMENT_ID));\n    cache = {};\n    modality(function (rule) {\n      return sheet.insert(rule, STYLE_GROUPS.modality);\n    });\n    initialRules.forEach(function (rule) {\n      sheet.insert(rule, STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent();\n\n      if (!canUseDOM) {\n        init();\n      }\n\n      return {\n        id: STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = classic(style, name);\n        Object.keys(compiled).forEach(function (key) {\n          var _compiled$key = compiled[key],\n              identifier = _compiled$key.identifier,\n              _$rules = _compiled$key.rules;\n          resolved.css[identifier] = {\n            group: group || STYLE_GROUPS.classic,\n            rules: _$rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n\n    get sheet() {\n      return sheet;\n    }\n\n  };\n}\n;\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = \"rn\";\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(\" \").trim();\n};\n\n;\n;\n\n(function () {\n  var _a, _b;\n\n  if (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n    var currentExports = __webpack_module__.exports;\n    var prevExports = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n    self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n\n    if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n      __webpack_module__.hot.dispose(function (data) {\n        data.prevExports = currentExports;\n      });\n\n      import.meta.webpackHot.accept();\n\n      if (prevExports !== null) {\n        if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n          __webpack_module__.hot.invalidate();\n        } else {\n          self.$RefreshHelpers$.scheduleUpdate();\n        }\n      }\n    } else {\n      var isNoLongerABoundary = prevExports !== null;\n\n      if (isNoLongerABoundary) {\n        __webpack_module__.hot.invalidate();\n      }\n    }\n  }\n})();","map":{"version":3,"sources":["D:\\codes\\Next\\pomodoro-dash\\node_modules\\react-native-web\\dist\\exports\\StyleSheet\\createStyleResolver.js"],"names":["canUseDOM","createCSSStyleSheet","createCompileableStyle","createOrderedCSSStyleSheet","flattenArray","flattenStyle","I18nManager","i18nStyle","atomic","classic","inline","stringifyValueWithProperty","initialRules","modality","STYLE_ELEMENT_ID","STYLE_GROUPS","createStyleResolver","inserted","sheet","cache","resolved","css","ltr","rtl","rtlNoSwap","init","rule","insert","forEach","reset","addToCache","className","prop","value","getClassName","val","hasOwnProperty","_injectRegisteredStyle","id","_I18nManager$getConst","getConstants","doLeftAndRightSwapInRTL","isRTL","dir","style","results","Object","keys","key","_results$key","identifier","property","rules","group","custom","resolve","classList","nextClassList","props","Array","isArray","item","push","createCacheKey","_resolveStyle","flatArray","isArrayOfNumbers","cacheKey","i","length","_key","apply","finalProps","classListToString","_I18nManager$getConst2","flatStyle","localizedStyle","sort","reduce","styleProp","_atomic","a","_a$key","getStyleSheet","textContent","getTextContent","createCSS","result","name","compiled","_compiled$key","prefix","list","join","trim"],"mappings":"AAaA,SAASA,SAAT,QAA0B,+BAA1B;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,OAAOC,0BAAP,MAAuC,8BAAvC;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,MAA1B,EAAkCC,0BAAlC,QAAoE,WAApE;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,gBAAT,EAA2BC,YAA3B,QAA+C,aAA/C;AACA,eAAe,SAASC,mBAAT,GAA+B;MA4BnCc,UAAU,GAAnB,SAASA,UAAT,CAAoBC,SAApB,EAA+BC,IAA/B,EAAqCC,KAArC,EAA4C;IAC1C,IAAI,CAACd,KAAK,CAACa,IAAD,CAAV,EAAkB;MAChBb,KAAK,CAACa,IAAD,CAALb,GAAc,EAAdA;IACD;;IAEDA,KAAK,CAACa,IAAD,CAALb,CAAYc,KAAZd,IAAqBY,SAArBZ;EACD,C;;MAEQe,YAAY,GAArB,SAASA,YAAT,CAAsBF,IAAtB,EAA4BC,KAA5B,EAAmC;IACjC,IAAIE,GAAG,GAAGxB,0BAA0B,CAACsB,KAAD,EAAQD,IAAR,CAApC;IACA,OAAOb,KAAK,CAACa,IAAD,CAALb,IAAeA,KAAK,CAACa,IAAD,CAALb,CAAYiB,cAAZjB,CAA2BgB,GAA3BhB,CAAfA,IAAkDA,KAAK,CAACa,IAAD,CAALb,CAAYgB,GAAZhB,CAAzD;EACD,C;;MAEQkB,sBAAsB,GAA/B,SAASA,sBAAT,CAAgCC,EAAhC,EAAoC;IAClC,IAAIC,qBAAqB,GAAGjC,WAAW,CAACkC,YAAZlC,EAA5B;IAAA,IACImC,uBAAuB,GAAGF,qBAAqB,CAACE,uBADpD;IAAA,IAEIC,KAAK,GAAGH,qBAAqB,CAACG,KAFlC;;IAIA,IAAIC,GAAG,GAAGD,KAAK,GAAGD,uBAAuB,GAAG,KAAH,GAAW,WAArC,GAAmD,KAAlE;;IAEA,IAAI,CAACxB,QAAQ,CAAC0B,GAAD,CAAR1B,CAAcqB,EAAdrB,CAAL,EAAwB;MACtB,IAAI2B,KAAK,GAAG1C,sBAAsB,CAACK,SAAS,CAACF,YAAY,CAACiC,EAAD,CAAb,CAAV,CAAlC;MACA,IAAIO,OAAO,GAAGrC,MAAM,CAACoC,KAAD,CAApB;MACAE,MAAM,CAACC,IAAPD,CAAYD,OAAZC,EAAqBlB,OAArBkB,CAA6B,UAAUE,GAAV,EAAe;QAC1C,IAAIC,YAAY,GAAGJ,OAAO,CAACG,GAAD,CAA1B;QAAA,IACIE,UAAU,GAAGD,YAAY,CAACC,UAD9B;QAAA,IAEIC,QAAQ,GAAGF,YAAY,CAACE,QAF5B;QAAA,IAGIC,KAAK,GAAGH,YAAY,CAACG,KAHzB;QAAA,IAIInB,KAAK,GAAGgB,YAAY,CAAChB,KAJzB;QAKAH,UAAU,CAACoB,UAAD,EAAaC,QAAb,EAAuBlB,KAAvB,CAAVH;QACAsB,KAAK,CAACxB,OAANwB,CAAc,UAAU1B,IAAV,EAAgB;UAC5B,IAAI2B,KAAK,GAAGtC,YAAY,CAACuC,MAAbvC,CAAoBoC,QAApBpC,KAAiCA,YAAY,CAACP,MAA1D;UACAU,KAAK,CAACS,MAANT,CAAaQ,IAAbR,EAAmBmC,KAAnBnC;QACD,CAHDkC;MAID,CAXDN;MAYA7B,QAAQ,CAAC0B,GAAD,CAAR1B,CAAcqB,EAAdrB,IAAoB,IAApBA;IACD;EACF,C;;MAMQsC,OALT,GAKA,SAASA,OAAT,CAAiBX,KAAjB,EAAwBY,SAAxB,EAAmC;IACjC,IAAIC,aAAa,GAAG,EAApB;IACA,IAAIC,KAAK,GAAG,EAAZ;;IAEA,IAAI,CAACd,KAAD,IAAU,CAACY,SAAf,EAA0B;MACxB,OAAOE,KAAP;IACD;;IAED,IAAIC,KAAK,CAACC,OAAND,CAAcH,SAAdG,CAAJ,EAA8B;MAC5BvD,YAAY,CAACoD,SAAD,CAAZpD,CAAwBwB,OAAxBxB,CAAgC,UAAU8C,UAAV,EAAsB;QACpD,IAAIA,UAAJ,EAAgB;UACd,IAAIjC,QAAQ,CAACI,GAATJ,CAAaiC,UAAbjC,KAA4B,IAA5BA,IAAoCG,QAAQ,CAACC,GAATD,CAAa8B,UAAb9B,KAA4B,IAApE,EAA0E;YACxE,IAAIyC,IAAI,GAAGzC,QAAQ,CAACC,GAATD,CAAa8B,UAAb9B,CAAX;YACAyC,IAAI,CAACT,KAALS,CAAWjC,OAAXiC,CAAmB,UAAUnC,IAAV,EAAgB;cACjCR,KAAK,CAACS,MAANT,CAAaQ,IAAbR,EAAmB2C,IAAI,CAACR,KAAxBnC;YACD,CAFD2C;YAGA5C,QAAQ,CAACI,GAATJ,CAAaiC,UAAbjC,IAA2B,IAA3BA;UACD;;UAEDwC,aAAa,CAACK,IAAdL,CAAmBP,UAAnBO;QACD;MACF,CAZDrD;IAaD;;IAED,IAAI,OAAOwC,KAAP,KAAiB,QAArB,EAA+B;MAE7BP,sBAAsB,CAACO,KAAD,CAAtBP;;MAEA,IAAIW,GAAG,GAAGe,cAAc,CAACnB,KAAD,CAAxB;MACAc,KAAK,GAAGM,aAAa,CAACpB,KAAD,EAAQI,GAAR,CAArBU;IACD,CAND,MAMO,IAAI,CAACC,KAAK,CAACC,OAAND,CAAcf,KAAde,CAAL,EAA2B;MAEhCD,KAAK,GAAGM,aAAa,CAACpB,KAAD,CAArBc;IACD,CAHM,MAGA;MAIL,IAAIO,SAAS,GAAG7D,YAAY,CAACwC,KAAD,CAA5B;MACA,IAAIsB,gBAAgB,GAAG,IAAvB;MACA,IAAIC,QAAQ,GAAG,EAAf;;MAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;QACzC,IAAI9B,EAAE,GAAG2B,SAAS,CAACG,CAAD,CAAlB;;QAEA,IAAI,OAAO9B,EAAP,KAAc,QAAlB,EAA4B;UAC1B4B,gBAAgB,GAAG,KAAnBA;QACD,CAFD,MAEO;UACL,IAAIA,gBAAJ,EAAsB;YACpBC,QAAQ,IAAI7B,EAAE,GAAG,GAAjB6B;UACD;;UAED9B,sBAAsB,CAACC,EAAD,CAAtBD;QACD;MACF;;MAED,IAAIiC,IAAI,GAAGJ,gBAAgB,GAAGH,cAAc,CAACI,QAAD,CAAjB,GAA8B,IAAzD;;MAEAT,KAAK,GAAGM,aAAa,CAACC,SAAD,EAAYK,IAAZ,CAArBZ;IACD;;IAEDD,aAAa,CAACK,IAAdL,CAAmBc,KAAnBd,CAAyBA,aAAzBA,EAAwCC,KAAK,CAACF,SAA9CC;IACA,IAAIe,UAAU,GAAG;MACfzC,SAAS,EAAE0C,iBAAiB,CAAChB,aAAD,CADb;MAEfD,SAAS,EAAEC;IAFI,CAAjB;;IAKA,IAAIC,KAAK,CAACd,KAAV,EAAiB;MACf4B,UAAU,CAAC5B,KAAX4B,GAAmBd,KAAK,CAACd,KAAzB4B;IACD;;IAED,OAAOA,UAAP;EACD,C;;MAMQR,aALT,GAKA,SAASA,aAAT,CAAuBpB,KAAvB,EAA8BI,GAA9B,EAAmC;IACjC,IAAI0B,sBAAsB,GAAGpE,WAAW,CAACkC,YAAZlC,EAA7B;IAAA,IACImC,uBAAuB,GAAGiC,sBAAsB,CAACjC,uBADrD;IAAA,IAEIC,KAAK,GAAGgC,sBAAsB,CAAChC,KAFnC;;IAIA,IAAIC,GAAG,GAAGD,KAAK,GAAGD,uBAAuB,GAAG,KAAH,GAAW,WAArC,GAAmD,KAAlE;;IAEA,IAAIO,GAAG,IAAI,IAAPA,IAAe5B,QAAQ,CAACuB,GAAD,CAARvB,CAAc4B,GAAd5B,KAAsB,IAAzC,EAA+C;MAC7C,OAAOA,QAAQ,CAACuB,GAAD,CAARvB,CAAc4B,GAAd5B,CAAP;IACD;;IAED,IAAIuD,SAAS,GAAGtE,YAAY,CAACuC,KAAD,CAA5B;IACA,IAAIgC,cAAc,GAAG1E,sBAAsB,CAACK,SAAS,CAACoE,SAAD,CAAV,CAA3C;IAEA,IAAIjB,KAAK,GAAGZ,MAAM,CAACC,IAAPD,CAAY8B,cAAZ9B,EAA4B+B,IAA5B/B,GAAmCgC,MAAnChC,CAA0C,UAAUY,KAAV,EAAiBqB,SAAjB,EAA4B;MAChF,IAAI9C,KAAK,GAAG2C,cAAc,CAACG,SAAD,CAA1B;;MAEA,IAAI9C,KAAK,IAAI,IAAb,EAAmB;QACjB,IAAIF,SAAS,GAAGG,YAAY,CAAC6C,SAAD,EAAY9C,KAAZ,CAA5B;;QAEA,IAAIF,SAAJ,EAAe;UACb2B,KAAK,CAACF,SAANE,CAAgBI,IAAhBJ,CAAqB3B,SAArB2B;QACD,CAFD,MAEO;UAIL,IAAIqB,SAAS,KAAK,oBAAdA,IAAsCA,SAAS,KAAK,sBAApDA,IAA8EA,SAAS,KAAK,eAA5FA,IAA+GA,SAAS,KAAK,gBAAjI,EAAmJ;YACjJ,IAAIC,OAAJ;;YAEA,IAAIC,CAAC,GAAGzE,MAAM,EAAEwE,OAAO,GAAG,EAAVA,EAAcA,OAAO,CAACD,SAAD,CAAPC,GAAqB/C,KAAnC+C,EAA0CA,OAA5C,EAAd;YACAlC,MAAM,CAACC,IAAPD,CAAYmC,CAAZnC,EAAelB,OAAfkB,CAAuB,UAAUE,GAAV,EAAe;cACpC,IAAIkC,MAAM,GAAGD,CAAC,CAACjC,GAAD,CAAd;cAAA,IACIE,UAAU,GAAGgC,MAAM,CAAChC,UADxB;cAAA,IAEIE,KAAK,GAAG8B,MAAM,CAAC9B,KAFnB;cAGAM,KAAK,CAACF,SAANE,CAAgBI,IAAhBJ,CAAqBR,UAArBQ;cACAN,KAAK,CAACxB,OAANwB,CAAc,UAAU1B,IAAV,EAAgB;gBAC5BR,KAAK,CAACS,MAANT,CAAaQ,IAAbR,EAAmBH,YAAY,CAACP,MAAhCU;cACD,CAFDkC;YAGD,CARDN;UASD,CAbD,MAaO;YACL,IAAI,CAACY,KAAK,CAACd,KAAX,EAAkB;cAChBc,KAAK,CAACd,KAANc,GAAc,EAAdA;YACD;;YAGDA,KAAK,CAACd,KAANc,CAAYqB,SAAZrB,IAAyBzB,KAAzByB;UACD;QACF;MACF;;MAED,OAAOA,KAAP;IACD,CArCWZ,EAqCT;MACDU,SAAS,EAAE;IADV,CArCSV,CAAZ;;IAyCA,IAAIY,KAAK,CAACd,KAAV,EAAiB;MACfc,KAAK,CAACd,KAANc,GAAchD,MAAM,CAACgD,KAAK,CAACd,KAAP,CAApBc;IACD;;IAED,IAAIV,GAAG,IAAI,IAAX,EAAiB;MACf5B,QAAQ,CAACuB,GAAD,CAARvB,CAAc4B,GAAd5B,IAAqBsC,KAArBtC;IACD;;IAED,OAAOsC,KAAP;EACD,C;;EAnND,IAAIzC,QAAJ,EAAcC,KAAd,EAAqBC,KAArB;EACA,IAAIC,QAAQ,GAAG;IACbC,GAAG,EAAE,EADQ;IAEbC,GAAG,EAAE,EAFQ;IAGbC,GAAG,EAAE,EAHQ;IAIbC,SAAS,EAAE;EAJE,CAAf;;EAOA,IAAIC,IAAI,GAAG,SAASA,IAAT,GAAgB;IACzBR,QAAQ,GAAG;MACTI,GAAG,EAAE,EADI;MAETC,GAAG,EAAE,EAFI;MAGTC,GAAG,EAAE,EAHI;MAITC,SAAS,EAAE;IAJF,CAAXP;IAMAC,KAAK,GAAGf,0BAA0B,CAACF,mBAAmB,CAACa,gBAAD,CAApB,CAAlCI;IACAC,KAAK,GAAG,EAARA;IACAN,QAAQ,CAAC,UAAUa,IAAV,EAAgB;MACvB,OAAOR,KAAK,CAACS,MAANT,CAAaQ,IAAbR,EAAmBH,YAAY,CAACF,QAAhCK,CAAP;IACD,CAFO,CAARL;IAGAD,YAAY,CAACgB,OAAbhB,CAAqB,UAAUc,IAAV,EAAgB;MACnCR,KAAK,CAACS,MAANT,CAAaQ,IAAbR,EAAmBH,YAAY,CAACc,KAAhCX;IACD,CAFDN;EAGA,CAfF;;EAiBAa,IAAI;EA4LJ,OAAO;IACL0D,aAAa,EAAE,SAASA,aAAT,GAAyB;MACtC,IAAIC,WAAW,GAAGlE,KAAK,CAACmE,cAANnE,EAAlB;;MAEA,IAAI,CAAClB,SAAL,EAAgB;QACdyB,IAAI;MACL;;MAED,OAAO;QACLa,EAAE,EAAExB,gBADC;QAELsE,WAAW,EAAEA;MAFR,CAAP;IAID,CAZI;IAaLE,SAAS,EAAE,SAASA,SAAT,CAAmBlC,KAAnB,EAA0BC,KAA1B,EAAiC;MAC1C,IAAIkC,MAAM,GAAG,EAAb;MACAzC,MAAM,CAACC,IAAPD,CAAYM,KAAZN,EAAmBlB,OAAnBkB,CAA2B,UAAU0C,IAAV,EAAgB;QACzC,IAAI5C,KAAK,GAAGQ,KAAK,CAACoC,IAAD,CAAjB;QACA,IAAIC,QAAQ,GAAGhF,OAAO,CAACmC,KAAD,EAAQ4C,IAAR,CAAtB;QACA1C,MAAM,CAACC,IAAPD,CAAY2C,QAAZ3C,EAAsBlB,OAAtBkB,CAA8B,UAAUE,GAAV,EAAe;UAC3C,IAAI0C,aAAa,GAAGD,QAAQ,CAACzC,GAAD,CAA5B;UAAA,IACIE,UAAU,GAAGwC,aAAa,CAACxC,UAD/B;UAAA,IAEIE,OAAK,GAAGsC,aAAa,CAACtC,KAF1B;UAGAhC,QAAQ,CAACC,GAATD,CAAa8B,UAAb9B,IAA2B;YACzBiC,KAAK,EAAEA,KAAK,IAAItC,YAAY,CAACN,OADJ;YAEzB2C,KAAK,EAAEA;UAFkB,CAA3BhC;UAIAmE,MAAM,CAACC,IAAD,CAAND,GAAerC,UAAfqC;QACD,CATDzC;MAUD,CAbDA;MAcA,OAAOyC,MAAP;IACD,CA9BI;IA+BLhC,OAAO,EAAEA,OA/BJ;;IAiCL,IAAIrC,KAAJ,GAAY;MACV,OAAOA,KAAP;IACD;;EAnCI,CAAP;AAsCD;AAAA;;AAKD,IAAI6C,cAAc,GAAG,SAASA,cAAT,CAAwBzB,EAAxB,EAA4B;EAC/C,IAAIqD,MAAM,GAAG,IAAb;EACA,OAAOA,MAAM,GAAG,GAATA,GAAerD,EAAtB;AACA,CAHF;;AAKA,IAAImC,iBAAiB,GAAG,SAASA,iBAAT,CAA2BmB,IAA3B,EAAiC;EACvD,OAAOA,IAAI,CAACC,IAALD,CAAU,GAAVA,EAAeE,IAAfF,EAAP;AACA,CAFF","sourcesContent":["/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * WARNING: changes to this file in particular can cause significant changes to\n * the results of render performance benchmarks.\n */\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport createCSSStyleSheet from './createCSSStyleSheet';\nimport createCompileableStyle from './createCompileableStyle';\nimport createOrderedCSSStyleSheet from './createOrderedCSSStyleSheet';\nimport flattenArray from '../../modules/flattenArray';\nimport flattenStyle from './flattenStyle';\nimport I18nManager from '../I18nManager';\nimport i18nStyle from './i18nStyle';\nimport { atomic, classic, inline, stringifyValueWithProperty } from './compile';\nimport initialRules from './initialRules';\nimport modality from './modality';\nimport { STYLE_ELEMENT_ID, STYLE_GROUPS } from './constants';\nexport default function createStyleResolver() {\n  var inserted, sheet, cache;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = createOrderedCSSStyleSheet(createCSSStyleSheet(STYLE_ELEMENT_ID));\n    cache = {};\n    modality(function (rule) {\n      return sheet.insert(rule, STYLE_GROUPS.modality);\n    });\n    initialRules.forEach(function (rule) {\n      sheet.insert(rule, STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToCache(className, prop, value) {\n    if (!cache[prop]) {\n      cache[prop] = {};\n    }\n\n    cache[prop][value] = className;\n  }\n\n  function getClassName(prop, value) {\n    var val = stringifyValueWithProperty(value, prop);\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var _I18nManager$getConst = I18nManager.getConstants(),\n        doLeftAndRightSwapInRTL = _I18nManager$getConst.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager$getConst.isRTL;\n\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = createCompileableStyle(i18nStyle(flattenStyle(id)));\n      var results = atomic(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToCache(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = STYLE_GROUPS.custom[property] || STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      flattenArray(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = flattenArray(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var _I18nManager$getConst2 = I18nManager.getConstants(),\n        doLeftAndRightSwapInRTL = _I18nManager$getConst2.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager$getConst2.isRTL;\n\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = flattenStyle(style);\n    var localizedStyle = createCompileableStyle(i18nStyle(flatStyle)); // slower: convert style object to props and cache\n\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = atomic((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.keys(a).forEach(function (key) {\n              var _a$key = a[key],\n                  identifier = _a$key.identifier,\n                  rules = _a$key.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = inline(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!canUseDOM) {\n        init();\n      }\n\n      return {\n        id: STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = classic(style, name);\n        Object.keys(compiled).forEach(function (key) {\n          var _compiled$key = compiled[key],\n              identifier = _compiled$key.identifier,\n              rules = _compiled$key.rules;\n          resolved.css[identifier] = {\n            group: group || STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n\n    get sheet() {\n      return sheet;\n    }\n\n  };\n}\n/**\n * Misc helpers\n */\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};"]},"metadata":{},"sourceType":"module"}