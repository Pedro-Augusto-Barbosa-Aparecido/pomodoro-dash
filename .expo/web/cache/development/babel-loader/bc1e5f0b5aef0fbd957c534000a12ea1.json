{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _objectDestructuringEmpty = require(\"@babel/runtime/helpers/objectDestructuringEmpty\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extractProps = extractProps;\nexports.mergeUnderscoreProps = mergeUnderscoreProps;\nexports.calculateProps = calculateProps;\nexports.resolveValueWithBreakpoint = exports.extractPropertyFromFunction = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _lodash2 = _interopRequireDefault(require(\"lodash.isnil\"));\n\nvar _lodash3 = _interopRequireDefault(require(\"lodash.mergewith\"));\n\nvar _lodash4 = _interopRequireDefault(require(\"lodash.clonedeep\"));\n\nvar _base = require(\"./../../theme/base\");\n\nvar _tools = require(\"./../../theme/tools\");\n\nvar _useContrastText = require(\"../useContrastText\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction extractProps(props, theme, _ref, componentTheme, currentBreakpoint) {\n  _objectDestructuringEmpty(_ref);\n\n  var newProps = {};\n\n  for (var property in props) {\n    if (_base.themePropertyMap[property]) {\n      var propValues = extractPropertyFromFunction(property, props, theme, componentTheme);\n\n      if (typeof propValues === \"string\" || typeof propValues === \"number\") {\n        newProps[property] = propValues;\n      } else if (!(0, _lodash2.default)(propValues)) {\n        for (var nestedProp in propValues) {\n          newProps[nestedProp] = (0, _lodash.default)(theme, \"\".concat(_base.themePropertyMap[nestedProp], \".\").concat(propValues[nestedProp]), propValues[nestedProp]);\n        }\n      } else if (property === \"shadow\") {\n        var shadowProps = theme[_base.themePropertyMap[property]][props[property]];\n\n        if (!(0, _lodash2.default)(shadowProps)) {\n          newProps = _objectSpread(_objectSpread({}, newProps), shadowProps);\n        }\n      } else {\n        newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n      }\n    } else {\n      newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n    }\n  }\n\n  return (0, _lodash4.default)(newProps);\n}\n\nfunction filterDefaultProps(props, defaultProps) {\n  var _ref2 = (0, _tools.extractInObject)(defaultProps, Object.keys(props)),\n      _ref3 = _slicedToArray(_ref2, 2),\n      resultProps = _ref3[1];\n\n  return resultProps;\n}\n\nvar extractPropertyFromFunction = function extractPropertyFromFunction(property, props, theme, componentTheme) {\n  var propValues;\n\n  if (componentTheme && typeof componentTheme[_base.themePropertyMap[property]] === \"function\") {\n    var funcProps = componentTheme[_base.themePropertyMap[property]](_objectSpread({\n      theme: theme\n    }, props));\n\n    var isNested = Object.keys(funcProps).some(function (key) {\n      return funcProps[key] && typeof funcProps[key] === \"object\";\n    });\n    propValues = isNested ? _objectSpread({}, (0, _lodash.default)(funcProps, \"\".concat(props[property]))) : _objectSpread({}, funcProps);\n  } else {\n    propValues = (0, _lodash.default)(componentTheme, \"\".concat(_base.themePropertyMap[property], \".\").concat(props[property]));\n  }\n\n  return propValues;\n};\n\nexports.extractPropertyFromFunction = extractPropertyFromFunction;\n\nfunction mergeUnderscoreProps(newProps, props) {\n  var _props = Object.keys(newProps).filter(function (propName) {\n    return propName.startsWith(\"_\");\n  });\n\n  _props.forEach(function (propName) {\n    var _newProps$bg, _newProps$propName$co, _newProps$propName, _props$propName;\n\n    var bg = (_newProps$bg = newProps.bg) !== null && _newProps$bg !== void 0 ? _newProps$bg : newProps.backgroundColor;\n    var textColor = bg ? {\n      color: (0, _useContrastText.useContrastText)(bg, (_newProps$propName$co = (_newProps$propName = newProps[propName]) === null || _newProps$propName === void 0 ? void 0 : _newProps$propName.color) !== null && _newProps$propName$co !== void 0 ? _newProps$propName$co : (_props$propName = props[propName]) === null || _props$propName === void 0 ? void 0 : _props$propName.color)\n    } : {};\n    newProps[propName] = _objectSpread(_objectSpread(_objectSpread({}, textColor), newProps[propName]), props[propName]);\n  });\n\n  return newProps;\n}\n\nvar resolveValueWithBreakpoint = function resolveValueWithBreakpoint(values, breakpointTheme, currentBreakpoint, property) {\n  if ((0, _tools.hasValidBreakpointFormat)(values, breakpointTheme, property)) {\n    return (0, _tools.findLastValidBreakpoint)(values, breakpointTheme, currentBreakpoint);\n  } else {\n    return values;\n  }\n};\n\nexports.resolveValueWithBreakpoint = resolveValueWithBreakpoint;\n\nfunction calculateProps(theme, colorModeProps, componentTheme, props, windowWidth) {\n  var currentBreakpoint = (0, _tools.getClosestBreakpoint)(theme.breakpoints, windowWidth);\n\n  if (!props) {\n    props = {};\n  }\n\n  var newProps;\n\n  if (componentTheme) {\n    newProps = extractProps(filterDefaultProps(props, componentTheme.defaultProps), theme, colorModeProps, componentTheme, currentBreakpoint);\n    var componentBaseStyle = typeof componentTheme.baseStyle !== \"function\" ? componentTheme.baseStyle : componentTheme.baseStyle(_objectSpread(_objectSpread(_objectSpread({\n      theme: theme\n    }, newProps), props), colorModeProps));\n    newProps = (0, _lodash3.default)(newProps, componentBaseStyle, function (objValue, srcValue, key) {\n      if (!(0, _lodash2.default)(objValue)) {\n        delete newProps[key];\n      }\n    });\n    var variant = props.variant || (0, _lodash.default)(componentTheme, \"defaultProps.variant\");\n\n    if (variant && componentTheme.variants && componentTheme.variants[variant]) {\n      var colorScheme = props.colorScheme || (0, _lodash.default)(componentTheme, \"defaultProps.colorScheme\");\n      var variantProps = componentTheme.variants[variant](_objectSpread(_objectSpread(_objectSpread({}, props), newProps), {}, {\n        colorScheme: colorScheme,\n        theme: theme\n      }, colorModeProps));\n      variantProps = extractProps(variantProps, theme, colorModeProps, componentTheme, currentBreakpoint);\n      newProps = (0, _lodash3.default)(newProps, variantProps, function (objValue, srcValue, key) {\n        if (!(0, _lodash2.default)(objValue)) {\n          delete newProps[key];\n        }\n      });\n      delete newProps.variant;\n      delete newProps.colorScheme;\n    }\n  }\n\n  var extractedProps = extractProps(props, theme, colorModeProps, componentTheme, currentBreakpoint);\n  newProps = (0, _lodash3.default)(newProps, extractedProps, function (objValue, srcValue, key) {\n    if (!(0, _lodash2.default)(objValue)) {\n      delete newProps[key];\n    }\n  });\n  newProps = mergeUnderscoreProps(newProps, props);\n  return newProps;\n}","map":{"version":3,"sources":["D:\\codes\\Next\\pomodoro-dash\\node_modules\\native-base\\lib\\commonjs\\hooks\\useThemeProps\\utils.js"],"names":["Object","defineProperty","exports","value","extractProps","mergeUnderscoreProps","calculateProps","resolveValueWithBreakpoint","extractPropertyFromFunction","_lodash","_interopRequireDefault","require","_lodash2","_lodash3","_lodash4","_base","_tools","_useContrastText","obj","__esModule","default","props","theme","componentTheme","currentBreakpoint","newProps","property","themePropertyMap","propValues","nestedProp","concat","shadowProps","breakpoints","filterDefaultProps","defaultProps","resultProps","extractInObject","keys","funcProps","isNested","some","key","_props","filter","propName","startsWith","forEach","_newProps$bg","_newProps$propName$co","_newProps$propName","_props$propName","bg","backgroundColor","textColor","color","useContrastText","values","breakpointTheme","hasValidBreakpointFormat","findLastValidBreakpoint","colorModeProps","windowWidth","getClosestBreakpoint","componentBaseStyle","baseStyle","objValue","srcValue","variant","variants","colorScheme","variantProps","extractedProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extractProps = extractProps;\nexports.mergeUnderscoreProps = mergeUnderscoreProps;\nexports.calculateProps = calculateProps;\nexports.resolveValueWithBreakpoint = exports.extractPropertyFromFunction = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _lodash2 = _interopRequireDefault(require(\"lodash.isnil\"));\n\nvar _lodash3 = _interopRequireDefault(require(\"lodash.mergewith\"));\n\nvar _lodash4 = _interopRequireDefault(require(\"lodash.clonedeep\"));\n\nvar _base = require(\"./../../theme/base\");\n\nvar _tools = require(\"./../../theme/tools\");\n\nvar _useContrastText = require(\"../useContrastText\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n Extract props from theme props and omit those from props\n*/\n\n/**\n *\n * @param props Props passed by the user\n * @param theme Theme object\n * @param colorModeProps `colorMode` object\n * @param componentTheme Theme for specific components\n * @param currentBreakpoint Current breakpoint values\n * @returns Extracting props from defaultProps while overriding the props that are already present\n */\nfunction extractProps(props, theme, {}, componentTheme, currentBreakpoint) {\n  let newProps = {};\n\n  for (let property in props) {\n    // If the property exists in themePropertyMap then get its value\n    if (_base.themePropertyMap[property]) {\n      let propValues = extractPropertyFromFunction(property, props, theme, componentTheme);\n\n      if (typeof propValues === 'string' || typeof propValues === 'number') {\n        newProps[property] = propValues;\n      } else if (!(0, _lodash2.default)(propValues)) {\n        for (let nestedProp in propValues) {\n          newProps[nestedProp] = (0, _lodash.default)(theme, \"\".concat(_base.themePropertyMap[nestedProp], \".\").concat(propValues[nestedProp]), propValues[nestedProp]);\n        }\n      } else if (property === 'shadow') {\n        let shadowProps = theme[_base.themePropertyMap[property]][props[property]];\n\n        if (!(0, _lodash2.default)(shadowProps)) {\n          newProps = { ...newProps,\n            ...shadowProps\n          };\n        }\n      } else {\n        newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n      }\n    } else {\n      newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n    }\n  }\n\n  return (0, _lodash4.default)(newProps);\n}\n/*\nRemove props from defaultProps that are already present in props\n*/\n\n\nfunction filterDefaultProps(props, defaultProps) {\n  let [, resultProps] = (0, _tools.extractInObject)(defaultProps, Object.keys(props));\n  return resultProps;\n}\n/**\n * If property is functional in componentTheme, get its returned object\n *\n * @param property : name of the prop\n * @param props : all props\n * @param theme : provided theme without components\n * @param componentTheme : component specific theme\n * @returns\n */\n\n\nconst extractPropertyFromFunction = (property, props, theme, componentTheme) => {\n  let propValues; // Check if the entry in the theme is a function then calling it with all theme and props as params\n\n  if (componentTheme && typeof componentTheme[_base.themePropertyMap[property]] === 'function') {\n    let funcProps = componentTheme[_base.themePropertyMap[property]]({\n      theme,\n      ...props\n    }); // Check if returned object from componentTheme is a nested object\n\n\n    let isNested = Object.keys(funcProps).some(function (key) {\n      return funcProps[key] && typeof funcProps[key] === 'object';\n    }); // If the returned value is nested object then find the property value in it, otherwise return the whole object\n\n    propValues = isNested ? { ...(0, _lodash.default)(funcProps, \"\".concat(props[property]))\n    } : { ...funcProps\n    };\n  } else {\n    // If the entry is any value other than function then return the whole object or value\n    propValues = (0, _lodash.default)(componentTheme, \"\".concat(_base.themePropertyMap[property], \".\").concat(props[property]));\n  }\n\n  return propValues;\n};\n/*\nMerge _props and apply contrastText color if not passed by theme or user\n*/\n\n\nexports.extractPropertyFromFunction = extractPropertyFromFunction;\n\nfunction mergeUnderscoreProps(newProps, props) {\n  const _props = Object.keys(newProps).filter(propName => propName.startsWith('_'));\n\n  _props.forEach(propName => {\n    var _newProps$bg, _newProps$propName$co, _newProps$propName, _props$propName;\n\n    // Adding color based on bg contrast if no color is given\n    const bg = (_newProps$bg = newProps.bg) !== null && _newProps$bg !== void 0 ? _newProps$bg : newProps.backgroundColor;\n    const textColor = bg ? {\n      color: (0, _useContrastText.useContrastText)(bg, (_newProps$propName$co = (_newProps$propName = newProps[propName]) === null || _newProps$propName === void 0 ? void 0 : _newProps$propName.color) !== null && _newProps$propName$co !== void 0 ? _newProps$propName$co : (_props$propName = props[propName]) === null || _props$propName === void 0 ? void 0 : _props$propName.color)\n    } : {}; // Overriding calculated props with user added props\n\n    newProps[propName] = { ...textColor,\n      ...newProps[propName],\n      ...props[propName]\n    };\n  });\n\n  return newProps;\n}\n/**\n *\n * Checks the property and resolves it if it has breakpoints\n * @param values : value from props\n * @param currentBreakpoint : current value for which breakpoint will be calculated\n * @param property : property name\n * @returns\n */\n\n\nconst resolveValueWithBreakpoint = (values, breakpointTheme, currentBreakpoint, property) => {\n  if ((0, _tools.hasValidBreakpointFormat)(values, breakpointTheme, property)) {\n    // Check the last valid breakpoint value from all values\n    // If current breakpoint is `md` and we have `base` then `lg`, then last value will be taken(`base` in this case)\n    return (0, _tools.findLastValidBreakpoint)(values, breakpointTheme, currentBreakpoint);\n  } else {\n    return values;\n  }\n};\n/**\n * Takes all prop related data and returns the props that needs to be applied to the component\n *\n * @param theme Theme object\n * @param colorModeProps Color mode information\n * @param componentTheme Theme object for the specific component\n * @param props Props passed by the user\n * @param windowWidth Width of the current window\n * @returns props to be applied\n */\n\n\nexports.resolveValueWithBreakpoint = resolveValueWithBreakpoint;\n\nfunction calculateProps(theme, colorModeProps, componentTheme, props, windowWidth) {\n  let currentBreakpoint = (0, _tools.getClosestBreakpoint)(theme.breakpoints, windowWidth);\n\n  if (!props) {\n    props = {};\n  }\n\n  let newProps;\n\n  if (componentTheme) {\n    // Extracting props from defaultProps\n    newProps = extractProps(filterDefaultProps(props, componentTheme.defaultProps), theme, colorModeProps, componentTheme, currentBreakpoint); // Extracting props from base style\n\n    let componentBaseStyle = typeof componentTheme.baseStyle !== 'function' ? componentTheme.baseStyle : componentTheme.baseStyle({\n      theme,\n      ...newProps,\n      ...props,\n      ...colorModeProps\n    });\n    newProps = (0, _lodash3.default)(newProps, componentBaseStyle, // @ts-ignore\n    (objValue, srcValue, key) => {\n      if (!(0, _lodash2.default)(objValue)) {\n        delete newProps[key];\n      }\n    });\n    const variant = props.variant || (0, _lodash.default)(componentTheme, 'defaultProps.variant'); // Extracting props from variant\n\n    if (variant && componentTheme.variants && componentTheme.variants[variant]) {\n      const colorScheme = props.colorScheme || (0, _lodash.default)(componentTheme, 'defaultProps.colorScheme');\n      let variantProps = componentTheme.variants[variant]({ ...props,\n        ...newProps,\n        colorScheme,\n        theme,\n        ...colorModeProps\n      });\n      variantProps = extractProps(variantProps, theme, colorModeProps, componentTheme, currentBreakpoint); // added this to handle order of props\n\n      newProps = (0, _lodash3.default)(newProps, variantProps, // @ts-ignore\n      (objValue, srcValue, key) => {\n        if (!(0, _lodash2.default)(objValue)) {\n          delete newProps[key];\n        }\n      });\n      delete newProps.variant;\n      delete newProps.colorScheme;\n    }\n  } // Extracting props from normal props\n\n\n  let extractedProps = extractProps(props, theme, colorModeProps, componentTheme, currentBreakpoint); // added this to handle order of props\n  // @ts-ignore\n\n  newProps = (0, _lodash3.default)(newProps, extractedProps, (objValue, srcValue, key) => {\n    if (!(0, _lodash2.default)(objValue)) {\n      delete newProps[key];\n    }\n  });\n  newProps = mergeUnderscoreProps(newProps, props);\n  return newProps;\n}\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}