{"ast":null,"code":"import _object_spread from \"@swc/helpers/src/_object_spread.mjs\";\nimport _object_spread_props from \"@swc/helpers/src/_object_spread_props.mjs\";\nimport _object_without_properties from \"@swc/helpers/src/_object_without_properties.mjs\";\nimport _sliced_to_array from \"@swc/helpers/src/_sliced_to_array.mjs\";\nimport _to_consumable_array from \"@swc/helpers/src/_to_consumable_array.mjs\";\n\nvar _s = $RefreshSig$(),\n    _s1 = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from \"react\";\nimport { useButton } from \"@react-native-aria/button\";\nimport { useComboBoxState } from \"@react-stately/combobox\";\nimport { useComboBox } from \"@react-native-aria/combobox\";\nimport { useListBox, useOption } from \"@react-native-aria/listbox\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Item } from \"@react-stately/collections\";\nimport Box from \"../../primitives/Box\";\nimport { Pressable } from \"../../primitives/Pressable\";\nimport Text from \"../../primitives/Text\";\nimport { extractInObject } from \"../../../theme/tools\";\nimport { layoutPropsList } from \"./types\";\nimport { Input } from \"../../primitives/Input\";\nimport { useThemeProps } from \"../../../hooks\";\nimport { useHasResponsiveProps } from \"../../../hooks/useHasResponsiveProps\";\n\nvar _tmp;\n\nexport var Typeahead = _s(React.forwardRef((_tmp = _s(function (_param, ref) {\n  var onSelectedItemChange = _param.onSelectedItemChange,\n      options = _param.options,\n      renderItem = _param.renderItem,\n      getOptionLabel = _param.getOptionLabel,\n      getOptionKey = _param.getOptionKey,\n      onChange = _param.onChange,\n      numberOfItems = _param.numberOfItems,\n      rest = _object_without_properties(_param, [\"onSelectedItemChange\", \"options\", \"renderItem\", \"getOptionLabel\", \"getOptionKey\", \"onChange\", \"numberOfItems\"]);\n\n  _s();\n\n  if (useHasResponsiveProps(rest)) {\n    return null;\n  }\n\n  return React.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), function (item) {\n    if (typeof item !== \"string\" && getOptionLabel === undefined) {\n      throw new Error(\"Please use getOptionLabel prop\");\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error(\"Please use getOptionKey prop\");\n    }\n\n    var optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    var optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return React.createElement(Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : React.createElement(Box, {\n      p: 2,\n      justifyContent: \"center\"\n    }, React.createElement(Text, null, optionLabel)));\n  });\n}, \"6bgQodg0TzCnC+sh66zK0WX4/IY=\", false, function () {\n  return [useHasResponsiveProps];\n}), _c = _tmp, _tmp)), \"6bgQodg0TzCnC+sh66zK0WX4/IY=\", false, function () {\n  return [useHasResponsiveProps];\n});\n_c1 = Typeahead;\nvar ComboBoxImplementation = React.forwardRef(_s1(function (props, ref) {\n  _s1();\n\n  var _$ref = _sliced_to_array(extractInObject(props, layoutPropsList), 1),\n      layoutProps = _$ref[0];\n\n  var state = useComboBoxState(props);\n  var triggerRef = React.useRef(null);\n  var inputRef = React.useRef(null);\n  var listBoxRef = React.useRef(null);\n  var popoverRef = React.useRef(null);\n\n  var _$ref1 = useComboBox(_object_spread_props(_object_spread({}, props), {\n    inputRef: inputRef,\n    buttonRef: triggerRef,\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    menuTrigger: \"input\"\n  }), state),\n      triggerProps = _$ref1.buttonProps,\n      inputProps = _$ref1.inputProps,\n      listBoxProps = _$ref1.listBoxProps,\n      labelProps = _$ref1.labelProps;\n\n  var toggleIconSetter = function toggleIconSetter() {\n    if (typeof props.toggleIcon === \"function\") return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  var buttonProps = useButton(triggerProps).buttonProps;\n  return React.createElement(Box, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), React.createElement(Box, {\n    flex: 1\n  }, props.label && React.createElement(Text, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), React.createElement(Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement: React.createElement(Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && React.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n}, \"Xvl/BmNDNNJXavkHcKsv1WLtmrA=\", false, function () {\n  return [useComboBoxState, useComboBox, useButton];\n}));\n_c2 = ComboBoxImplementation;\n\nfunction ListBoxPopup(props) {\n  _s2();\n\n  var popoverRef = props.popoverRef,\n      listBoxRef = props.listBoxRef,\n      state = props.state,\n      dropdownHeight = props.dropdownHeight,\n      label = props.label;\n  var listBoxProps = useListBox({\n    label: label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef).listBoxProps;\n  return React.createElement(Box, {\n    ref: popoverRef\n  }, React.createElement(Box, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, React.createElement(ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: function ref(node) {\n      if (Platform.OS === \"web\") {\n        listBoxRef.current = findNodeHandle(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), _to_consumable_array(state.collection).map(function (item) {\n    return React.createElement(Option, {\n      key: item.key,\n      item: item,\n      state: state\n    });\n  }))));\n}\n\n_s2(ListBoxPopup, \"8o1W2WJW0Cdp1dr4b7Ve5V5jvuA=\", false, function () {\n  return [useListBox];\n});\n\n_c3 = ListBoxPopup;\n\nfunction Option(param) {\n  var item = param.item,\n      state = param.state;\n\n  _s3();\n\n  var searchItemStyle = useThemeProps(\"TypeAheadSearchItem\", {});\n  var ref = React.useRef(null);\n  var isDisabled = state.disabledKeys.has(item.key);\n  var isSelected = state.selectionManager.isSelected(item.key);\n  var isFocused = state.selectionManager.focusedKey === item.key;\n  var optionProps = useOption({\n    key: item.key,\n    isDisabled: isDisabled,\n    isSelected: isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref).optionProps;\n  var backgroundColor = searchItemStyle.backgroundColor;\n  var opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return React.createElement(Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? Platform.OS === \"web\" ? \"not-allowed\" : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}\n\n_s3(Option, \"YBxHGdxAIqn4mMi+dKBN2pz547w=\", false, function () {\n  return [useThemeProps, useOption];\n});\n\n_c4 = Option;\n\nvar _c, _c1, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Typeahead$React.forwardRef\");\n$RefreshReg$(_c1, \"Typeahead\");\n$RefreshReg$(_c2, \"ComboBoxImplementation\");\n$RefreshReg$(_c3, \"ListBoxPopup\");\n$RefreshReg$(_c4, \"Option\");\n;\n;\n\n(function () {\n  var _a, _b;\n\n  if (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n    var currentExports = __webpack_module__.exports;\n    var prevExports = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n    self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n\n    if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n      __webpack_module__.hot.dispose(function (data) {\n        data.prevExports = currentExports;\n      });\n\n      import.meta.webpackHot.accept();\n\n      if (prevExports !== null) {\n        if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n          __webpack_module__.hot.invalidate();\n        } else {\n          self.$RefreshHelpers$.scheduleUpdate();\n        }\n      }\n    } else {\n      var isNoLongerABoundary = prevExports !== null;\n\n      if (isNoLongerABoundary) {\n        __webpack_module__.hot.invalidate();\n      }\n    }\n  }\n})();","map":{"version":3,"sources":["D:\\codes\\Next\\pomodoro-dash\\node_modules\\native-base\\lib\\module\\components\\composites\\Typeahead\\Typeahead.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useButton","useComboBoxState","useComboBox","useListBox","useOption","Item","Box","Pressable","Text","extractInObject","layoutPropsList","Input","useThemeProps","useHasResponsiveProps","Typeahead","forwardRef","onSelectedItemChange","options","renderItem","getOptionLabel","getOptionKey","onChange","numberOfItems","rest","ref","createElement","ComboBoxImplementation","onSelectionChange","items","undefined","slice","onInputChange","item","Error","id","optionLabel","optionKey","textValue","p","justifyContent","props","layoutProps","state","triggerRef","useRef","inputRef","listBoxRef","popoverRef","buttonProps","triggerProps","inputProps","listBoxProps","labelProps","buttonRef","menuTrigger","toggleIconSetter","toggleIcon","isOpen","flexDirection","flex","label","pb","InputRightElement","ListBoxPopup","dropdownHeight","autoFocus","focusStrategy","disallowEmptySelection","position","width","maxHeight","ScrollView","keyboardShouldPersistTaps","node","Platform","OS","current","findNodeHandle","map","Option","searchItemStyle","isDisabled","disabledKeys","has","isSelected","selectionManager","isFocused","focusedKey","optionProps","shouldFocusOnHover","shouldUseVirtualFocus","backgroundColor","opacity","_focus","_disabled","cursor","rendered"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { useButton } from '@react-native-aria/button';\nimport { useComboBoxState } from '@react-stately/combobox';\nimport { useComboBox } from '@react-native-aria/combobox';\nimport { useListBox, useOption } from '@react-native-aria/listbox';\nimport { ScrollView, findNodeHandle, Platform } from 'react-native';\nimport { Item } from '@react-stately/collections';\nimport Box from '../../primitives/Box';\nimport { Pressable } from '../../primitives/Pressable';\nimport Text from '../../primitives/Text';\nimport { extractInObject } from '../../../theme/tools';\nimport { layoutPropsList } from './types';\nimport { Input } from '../../primitives/Input';\nimport { useThemeProps } from '../../../hooks';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nexport const Typeahead = /*#__PURE__*/React.forwardRef(({\n  onSelectedItemChange,\n  options,\n  renderItem,\n  getOptionLabel,\n  getOptionKey,\n  onChange,\n  numberOfItems,\n  ...rest\n}, ref) => {\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(rest)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), item => {\n    if (typeof item !== 'string' && getOptionLabel === undefined) {\n      throw new Error('Please use getOptionLabel prop');\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error('Please use getOptionKey prop');\n    }\n\n    const optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    const optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return /*#__PURE__*/React.createElement(Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : /*#__PURE__*/React.createElement(Box, {\n      p: 2,\n      justifyContent: \"center\"\n    }, /*#__PURE__*/React.createElement(Text, null, optionLabel)));\n  });\n});\nconst ComboBoxImplementation = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const [layoutProps] = extractInObject(props, layoutPropsList);\n  let state = useComboBoxState(props);\n  let triggerRef = React.useRef(null);\n  let inputRef = React.useRef(null);\n  let listBoxRef = React.useRef(null);\n  let popoverRef = React.useRef(null);\n  let {\n    buttonProps: triggerProps,\n    inputProps,\n    listBoxProps,\n    labelProps\n  } = useComboBox({ ...props,\n    inputRef,\n    buttonRef: triggerRef,\n    listBoxRef,\n    popoverRef,\n    menuTrigger: 'input'\n  }, state);\n\n  const toggleIconSetter = () => {\n    if (typeof props.toggleIcon === 'function') return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  let {\n    buttonProps\n  } = useButton(triggerProps);\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(Box, {\n    flex: 1\n  }, props.label && /*#__PURE__*/React.createElement(Text, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), /*#__PURE__*/React.createElement(Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement:\n    /*#__PURE__*/\n    // @ts-ignore - RN has hitSlop type inconsistent for View and Pressable!\n    React.createElement(Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && /*#__PURE__*/React.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n});\n\nfunction ListBoxPopup(props) {\n  let {\n    popoverRef,\n    listBoxRef,\n    state,\n    dropdownHeight,\n    label\n  } = props;\n  let {\n    listBoxProps\n  } = useListBox({\n    label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef);\n  return /*#__PURE__*/React.createElement(Box, {\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(Box, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, /*#__PURE__*/React.createElement(ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: node => {\n      if (Platform.OS === 'web') {\n        listBoxRef.current = findNodeHandle(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), [...state.collection].map(item => /*#__PURE__*/React.createElement(Option, {\n    key: item.key,\n    item: item,\n    state: state\n  })))));\n}\n\nfunction Option({\n  item,\n  state\n}) {\n  const searchItemStyle = useThemeProps('TypeAheadSearchItem', {});\n  let ref = React.useRef(null);\n  let isDisabled = state.disabledKeys.has(item.key);\n  let isSelected = state.selectionManager.isSelected(item.key);\n  let isFocused = state.selectionManager.focusedKey === item.key;\n  let {\n    optionProps\n  } = useOption({\n    key: item.key,\n    isDisabled,\n    isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref);\n  let backgroundColor = searchItemStyle.backgroundColor;\n  let opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return /*#__PURE__*/React.createElement(Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? Platform.OS === 'web' ? 'not-allowed' : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}\n//# sourceMappingURL=Typeahead.js.map"]},"metadata":{},"sourceType":"module"}