{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _excluded = [\"value\", \"isIndeterminate\", \"max\", \"min\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _styled = require(\"../../../utils/styled\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _theme = require(\"../../../theme\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar StyleAnimatedView = (0, _styled.makeStyledComponent)(_reactNative.Animated.View);\n\nvar CircularProgress = function CircularProgress(_ref, ref) {\n  var value = _ref.value,\n      isIndeterminate = _ref.isIndeterminate,\n      max = _ref.max,\n      min = _ref.min,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var theme = (0, _hooks.useTheme)();\n  var isDomUsable = (0, _utils.canUseDom)();\n\n  if (min) {\n    value = value - min;\n  }\n\n  var sizeProps;\n  var newProps = (0, _hooks.useThemeProps)(\"CircularProgress\", props);\n\n  var _theme$themeTools$ext = _theme.themeTools.extractInObject(props, [\"size\"]),\n      _theme$themeTools$ext2 = _slicedToArray(_theme$themeTools$ext, 2),\n      remainingProps = _theme$themeTools$ext2[1];\n\n  if (!newProps.size) {\n    sizeProps = {\n      height: newProps.height,\n      width: newProps.width\n    };\n  } else {\n    sizeProps = {\n      height: newProps.size,\n      width: newProps.size\n    };\n  }\n\n  var themeHeight = (0, _lodash.default)(theme, \"space.\" + sizeProps.height);\n  var themeWidth = (0, _lodash.default)(theme, \"space.\" + sizeProps.width);\n  var styleSize = {\n    height: themeHeight ? parseInt(themeHeight.slice(themeHeight.Length, -2), 10) : sizeProps.height,\n    width: themeWidth ? parseInt(themeWidth.slice(themeWidth.Length, -2), 10) : sizeProps.width\n  };\n  var defaultThickness = newProps.thickness;\n  var degree = new _reactNative.Animated.Value(0);\n\n  if (isIndeterminate) {\n    if (isDomUsable) {\n      _reactNative.Animated.loop(_reactNative.Animated.timing(degree, {\n        toValue: 1,\n        duration: 600,\n        easing: _reactNative.Easing.linear,\n        useNativeDriver: false\n      })).start();\n    }\n  }\n\n  var _react$default$useSta = _react.default.useState(0),\n      _react$default$useSta2 = _slicedToArray(_react$default$useSta, 2),\n      viewHeight = _react$default$useSta2[0],\n      setViewHeight = _react$default$useSta2[1];\n\n  var layout = function layout(e) {\n    var height = e.nativeEvent.layout.height;\n    setViewHeight(height);\n  };\n\n  var defaultStyling = _objectSpread({\n    borderBottomLeftRadius: viewHeight / 2,\n    borderBottomRightRadius: viewHeight / 2,\n    borderTopLeftRadius: viewHeight / 2,\n    borderTopRightRadius: viewHeight / 2,\n    borderLeftWidth: defaultThickness,\n    borderBottomWidth: defaultThickness,\n    position: \"absolute\",\n    borderLeftColor: \"transparent\",\n    borderBottomColor: \"transparent\"\n  }, styleSize);\n\n  var styles = _reactNative.StyleSheet.create({\n    firstProgressLayer: _objectSpread(_objectSpread({\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness\n    }, defaultStyling), {}, {\n      transform: [{\n        rotateZ: \"-135deg\"\n      }]\n    }),\n    secondProgressLayer: _objectSpread(_objectSpread({\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness\n    }, defaultStyling), {}, {\n      transform: [{\n        rotateZ: \"45deg\"\n      }]\n    }),\n    offsetLayer: _objectSpread(_objectSpread({\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness\n    }, defaultStyling), {}, {\n      borderRadius: viewHeight / 2,\n      transform: [{\n        rotateZ: \"-135deg\"\n      }]\n    }),\n    animateStyle: _objectSpread(_objectSpread({\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness\n    }, defaultStyling), {}, {\n      transform: [{\n        rotateZ: degree.interpolate({\n          inputRange: [0, 1],\n          outputRange: [\"0deg\", \"360deg\"]\n        })\n      }]\n    })\n  });\n\n  var halfSide = (max ? min ? max - min : max : 100) / 2;\n\n  var propStyle = function propStyle(percent, base_degrees) {\n    var rotateBy = base_degrees + percent * 180 / halfSide;\n    return {\n      transform: [{\n        rotateZ: rotateBy + \"deg\"\n      }]\n    };\n  };\n\n  var renderThirdLayer = function renderThirdLayer(percent) {\n    if (percent > halfSide) {\n      return _react.default.createElement(_Box.default, {\n        borderTopColor: newProps.color,\n        borderRightColor: newProps.color,\n        style: [styles.secondProgressLayer, propStyle(percent - halfSide, 45)]\n      });\n    } else {\n      return _react.default.createElement(_Box.default, {\n        borderTopColor: newProps.trackColor,\n        borderRightColor: newProps.trackColor,\n        style: styles.offsetLayer\n      });\n    }\n  };\n\n  var firstProgressLayerStyle;\n\n  if (value > halfSide) {\n    firstProgressLayerStyle = propStyle(halfSide, -135);\n  } else {\n    firstProgressLayerStyle = propStyle(value, -135);\n  }\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return _react.default.createElement(_Box.default, _extends({}, sizeProps, {\n    rounded: viewHeight / 2,\n    borderWidth: defaultThickness,\n    borderColor: newProps.trackColor,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }, remainingProps, {\n    ref: ref,\n    accessible: true,\n    accessibilityRole: \"progressbar\",\n    accessibilityValue: {\n      min: min,\n      max: max,\n      now: value\n    }\n  }), !isIndeterminate ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Box.default, {\n    onLayout: layout,\n    borderTopColor: newProps.color,\n    borderRightColor: newProps.color,\n    style: [styles.firstProgressLayer, firstProgressLayerStyle]\n  }), renderThirdLayer(value), _react.default.createElement(_Box.default, {\n    _text: newProps._text\n  }, remainingProps.children)) : _react.default.createElement(StyleAnimatedView, {\n    onLayout: layout,\n    borderTopColor: newProps.color,\n    borderRightColor: newProps.color,\n    style: styles.animateStyle\n  }));\n};\n\nvar _default = _react.default.memo(_react.default.forwardRef(CircularProgress));\n\nexports.default = _default;","map":{"version":3,"sources":["D:\\codes\\Next\\pomodoro-dash\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\CircularProgress\\CircularProgress.js"],"names":["Object","defineProperty","exports","value","default","_lodash","_interopRequireDefault","require","_react","_styled","_hooks","_utils","_Box","_theme","_useHasResponsiveProps","obj","__esModule","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","StyleAnimatedView","makeStyledComponent","_reactNative","Animated","View","CircularProgress","isIndeterminate","max","min","props","ref","theme","useTheme","isDomUsable","canUseDom","sizeProps","newProps","useThemeProps","remainingProps","themeTools","extractInObject","size","height","width","themeHeight","themeWidth","styleSize","parseInt","slice","Length","defaultThickness","thickness","degree","Value","loop","timing","toValue","duration","easing","Easing","linear","useNativeDriver","start","viewHeight","setViewHeight","useState","layout","e","nativeEvent","defaultStyling","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","borderLeftWidth","borderBottomWidth","position","borderLeftColor","borderBottomColor","styles","StyleSheet","create","firstProgressLayer","borderTopWidth","borderRightWidth","transform","rotateZ","secondProgressLayer","offsetLayer","borderRadius","animateStyle","interpolate","inputRange","outputRange","halfSide","propStyle","percent","base_degrees","rotateBy","renderThirdLayer","createElement","borderTopColor","color","borderRightColor","style","trackColor","firstProgressLayerStyle","useHasResponsiveProps","rounded","borderWidth","borderColor","justifyContent","alignItems","accessible","accessibilityRole","accessibilityValue","now","Fragment","onLayout","_text","children","_default","memo","forwardRef"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _styled = require(\"../../../utils/styled\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _theme = require(\"../../../theme\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst StyleAnimatedView = (0, _styled.makeStyledComponent)(_reactNative.Animated.View);\n\nconst CircularProgress = ({\n  value,\n  isIndeterminate,\n  max,\n  min,\n  ...props\n}, ref) => {\n  const theme = (0, _hooks.useTheme)();\n  const isDomUsable = (0, _utils.canUseDom)();\n\n  if (min) {\n    value = value - min;\n  }\n\n  let sizeProps;\n  let newProps = (0, _hooks.useThemeProps)('CircularProgress', props);\n\n  let [, remainingProps] = _theme.themeTools.extractInObject(props, ['size']); // removing size from props so that Box don't accept size passed for CircularProgress\n\n\n  if (!newProps.size) {\n    sizeProps = {\n      height: newProps.height,\n      width: newProps.width\n    };\n  } else {\n    sizeProps = {\n      height: newProps.size,\n      width: newProps.size\n    };\n  } // fetching size from theme for passing into style prop\n\n\n  const themeHeight = (0, _lodash.default)(theme, 'space.' + sizeProps.height);\n  const themeWidth = (0, _lodash.default)(theme, 'space.' + sizeProps.width);\n  const styleSize = {\n    height: themeHeight ? parseInt(themeHeight.slice(themeHeight.Length, -2), 10) : sizeProps.height,\n    width: themeWidth ? parseInt(themeWidth.slice(themeWidth.Length, -2), 10) : sizeProps.width\n  };\n  const defaultThickness = newProps.thickness;\n  const degree = new _reactNative.Animated.Value(0);\n\n  if (isIndeterminate) {\n    if (isDomUsable) {\n      _reactNative.Animated.loop(_reactNative.Animated.timing(degree, {\n        toValue: 1,\n        duration: 600,\n        easing: _reactNative.Easing.linear,\n        useNativeDriver: false\n      })).start();\n    }\n  }\n\n  const [viewHeight, setViewHeight] = _react.default.useState(0);\n\n  const layout = e => {\n    let height = e.nativeEvent.layout.height;\n    setViewHeight(height);\n  };\n\n  const defaultStyling = {\n    borderBottomLeftRadius: viewHeight / 2,\n    borderBottomRightRadius: viewHeight / 2,\n    borderTopLeftRadius: viewHeight / 2,\n    borderTopRightRadius: viewHeight / 2,\n    borderLeftWidth: defaultThickness,\n    borderBottomWidth: defaultThickness,\n    position: 'absolute',\n    borderLeftColor: 'transparent',\n    borderBottomColor: 'transparent',\n    ...styleSize\n  };\n\n  const styles = _reactNative.StyleSheet.create({\n    firstProgressLayer: {\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness,\n      ...defaultStyling,\n      transform: [{\n        rotateZ: '-135deg'\n      }]\n    },\n    secondProgressLayer: {\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness,\n      ...defaultStyling,\n      transform: [{\n        rotateZ: '45deg'\n      }]\n    },\n    offsetLayer: {\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness,\n      ...defaultStyling,\n      borderRadius: viewHeight / 2,\n      transform: [{\n        rotateZ: '-135deg'\n      }]\n    },\n    animateStyle: {\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness,\n      ...defaultStyling,\n      transform: [{\n        rotateZ: degree.interpolate({\n          inputRange: [0, 1],\n          outputRange: ['0deg', '360deg']\n        })\n      }]\n    }\n  });\n\n  let halfSide = (max ? min ? max - min : max : 100) / 2; // calculating the halfvalue of the progress according to min and max\n\n  const propStyle = (percent, base_degrees) => {\n    const rotateBy = base_degrees + percent * 180 / halfSide;\n    return {\n      transform: [{\n        rotateZ: rotateBy + 'deg'\n      }]\n    };\n  };\n\n  const renderThirdLayer = percent => {\n    if (percent > halfSide) {\n      return /*#__PURE__*/_react.default.createElement(_Box.default, {\n        borderTopColor: newProps.color,\n        borderRightColor: newProps.color,\n        style: [styles.secondProgressLayer, propStyle(percent - halfSide, 45)]\n      });\n    } else {\n      return /*#__PURE__*/_react.default.createElement(_Box.default, {\n        borderTopColor: newProps.trackColor,\n        borderRightColor: newProps.trackColor,\n        style: styles.offsetLayer\n      });\n    }\n  };\n\n  let firstProgressLayerStyle;\n\n  if (value > halfSide) {\n    firstProgressLayerStyle = propStyle(halfSide, -135);\n  } else {\n    firstProgressLayerStyle = propStyle(value, -135);\n  } //TODO: refactor for responsive prop\n\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_Box.default, _extends({}, sizeProps, {\n    rounded: viewHeight / 2,\n    borderWidth: defaultThickness,\n    borderColor: newProps.trackColor,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }, remainingProps, {\n    ref: ref,\n    accessible: true,\n    accessibilityRole: \"progressbar\",\n    accessibilityValue: {\n      min,\n      max,\n      now: value\n    }\n  }), !isIndeterminate ? /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_Box.default, {\n    onLayout: layout,\n    borderTopColor: newProps.color,\n    borderRightColor: newProps.color,\n    style: [styles.firstProgressLayer, firstProgressLayerStyle]\n  }), renderThirdLayer(value), /*#__PURE__*/_react.default.createElement(_Box.default, {\n    _text: newProps._text\n  }, remainingProps.children)) : /*#__PURE__*/_react.default.createElement(StyleAnimatedView, {\n    onLayout: layout,\n    borderTopColor: newProps.color,\n    borderRightColor: newProps.color,\n    style: styles.animateStyle\n  }));\n};\n\nvar _default = /*#__PURE__*/_react.default.memo( /*#__PURE__*/_react.default.forwardRef(CircularProgress));\n\nexports.default = _default;\n//# sourceMappingURL=CircularProgress.js.map"]},"metadata":{},"sourceType":"script"}