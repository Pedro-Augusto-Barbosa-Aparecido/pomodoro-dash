{"ast":null,"code":"import _object_without_properties from \"@swc/helpers/src/_object_without_properties.mjs\";\nimport _sliced_to_array from \"@swc/helpers/src/_sliced_to_array.mjs\";\nimport _to_consumable_array from \"@swc/helpers/src/_to_consumable_array.mjs\";\n\nvar _s = $RefreshSig$();\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, memo } from \"react\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { Actionsheet } from \"../../composites/Actionsheet\";\nimport Box from \"../Box\";\nimport { Input } from \"../Input\";\nimport { useFocusRing } from \"@react-native-aria/focus\";\nimport { useControllableState } from \"../../../hooks\";\nimport { usePropsResolution } from \"../../../hooks/useThemeProps\";\nimport { useHover } from \"@react-native-aria/interactions\";\nimport { mergeRefs } from \"../../../utils\";\nimport { useFormControl } from \"../../composites/FormControl\";\nimport { ChevronDownIcon } from \"../Icon/Icons\";\nimport { ScrollView } from \"../../basic/ScrollView\";\nimport { extractInObject, stylingProps } from \"../../../theme/tools/utils\";\nimport { FlatList } from \"../../basic/FlatList\";\nimport { useHasResponsiveProps } from \"../../../hooks/useHasResponsiveProps\";\nimport { Pressable } from \"../Pressable\";\nexport var SelectContext = React.createContext({\n  onValueChange: function onValueChange() {},\n  selectedValue: null,\n  _selectedItem: {},\n  _item: {}\n});\n\nvar Select = function Select(_param, ref) {\n  var isHoveredProp = _param.isHovered,\n      isFocusedProp = _param.isFocused,\n      isFocusVisibleProp = _param.isFocusVisible,\n      variant = _param.variant,\n      props = _object_without_properties(_param, [\"isHovered\", \"isFocused\", \"isFocusVisible\", \"variant\"]);\n\n  _s();\n\n  var selectProps = useFormControl({\n    isDisabled: props.isDisabled,\n    nativeID: props.nativeID\n  });\n  var flatListData = [];\n  var isDisabled = selectProps.disabled;\n  var tempFix = \"__NativebasePlaceholder__\";\n\n  var _ref = React.useRef(null);\n\n  var _$ref = _sliced_to_array(React.useState(false), 2),\n      isOpen = _$ref[0],\n      setIsOpen = _$ref[1];\n\n  var _$ref1 = _sliced_to_array(React.useState(false), 2),\n      isFocused = _$ref1[0],\n      setIsFocused = _$ref1[1];\n\n  var _$ref2 = useFocusRing(),\n      focusProps = _$ref2.focusProps,\n      isFocusVisible = _$ref2.isFocusVisible;\n\n  var _$ref3 = useHover({\n    isDisabled: isDisabled\n  }, _ref),\n      hoverProps = _$ref3.hoverProps,\n      isHovered = _$ref3.isHovered;\n\n  var _ref1 = usePropsResolution(\"Select\", props, {\n    isDisabled: isDisabled,\n    isHovered: isHoveredProp || isHovered,\n    isFocused: isFocusedProp || isFocused,\n    isFocusVisible: isFocusVisibleProp || isFocusVisible\n  }, undefined),\n      onValueChange = _ref1.onValueChange,\n      selectedValue = _ref1.selectedValue,\n      children = _ref1.children,\n      dropdownIcon = _ref1.dropdownIcon,\n      dropdownCloseIcon = _ref1.dropdownCloseIcon,\n      dropdownOpenIcon = _ref1.dropdownOpenIcon,\n      placeholder = _ref1.placeholder,\n      accessibilityLabel = _ref1.accessibilityLabel,\n      defaultValue = _ref1.defaultValue,\n      _item = _ref1._item,\n      _selectedItem = _ref1._selectedItem,\n      onOpen = _ref1.onOpen,\n      onClose = _ref1.onClose,\n      optimized = _ref1.optimized,\n      customDropdownIconProps = _ref1.customDropdownIconProps,\n      _actionSheet = _ref1._actionSheet,\n      _actionSheetContent = _ref1._actionSheetContent,\n      _actionSheetBody = _ref1._actionSheetBody,\n      _webSelect = _ref1._webSelect,\n      resolvedProps = _object_without_properties(_ref1, [\"onValueChange\", \"selectedValue\", \"children\", \"dropdownIcon\", \"dropdownCloseIcon\", \"dropdownOpenIcon\", \"placeholder\", \"accessibilityLabel\", \"defaultValue\", \"_item\", \"_selectedItem\", \"onOpen\", \"onClose\", \"optimized\", \"customDropdownIconProps\", \"_actionSheet\", \"_actionSheetContent\", \"_actionSheetBody\", \"_webSelect\"]);\n\n  var _$ref4 = _sliced_to_array(useControllableState({\n    value: selectedValue,\n    defaultValue: defaultValue,\n    onChange: function onChange(newValue) {\n      onValueChange && onValueChange(newValue);\n      setIsOpen(false);\n    }\n  }), 2),\n      value = _$ref4[0],\n      setValue = _$ref4[1];\n\n  var itemsList = React.Children.toArray(children).map(function (child) {\n    var _child$props, _child$props2;\n\n    return {\n      label: child === null || child === void 0 ? void 0 : (_child$props = child.props) === null || _child$props === void 0 ? void 0 : _child$props.label,\n      value: child === null || child === void 0 ? void 0 : (_child$props2 = child.props) === null || _child$props2 === void 0 ? void 0 : _child$props2.value\n    };\n  });\n  var selectedItemArray = itemsList.filter(function (item) {\n    return (item === null || item === void 0 ? void 0 : item.value) === value;\n  });\n  var selectedItem = selectedItemArray && selectedItemArray.length ? selectedItemArray[0] : null;\n  var contextValue = React.useMemo(function () {\n    return {\n      onValueChange: setValue,\n      selectedValue: value,\n      _selectedItem: _selectedItem !== null && _selectedItem !== void 0 ? _selectedItem : {},\n      _item: _item !== null && _item !== void 0 ? _item : {}\n    };\n  }, [value, setValue, _selectedItem, _item]);\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  var rightIcon = isOpen && dropdownOpenIcon ? dropdownOpenIcon : !isOpen && dropdownCloseIcon ? dropdownCloseIcon : dropdownIcon ? dropdownIcon : React.createElement(ChevronDownIcon, customDropdownIconProps);\n\n  var handleClose = function handleClose() {\n    setIsOpen(false);\n    onClose && onClose();\n  };\n\n  if (optimized) {\n    React.Children.toArray(children).map(function (child) {\n      flatListData.push(child.props);\n    });\n  }\n\n  var _$ref5 = _sliced_to_array(extractInObject(resolvedProps, _to_consumable_array(stylingProps.margin).concat(_to_consumable_array(stylingProps.flexbox), _to_consumable_array(stylingProps.position), [\"shadow\", \"opacity\"])), 2),\n      layoutProps = _$ref5[0],\n      nonLayoutProps = _$ref5[1];\n\n  var commonInput = React.createElement(Input, _extends({\n    placeholder: placeholder,\n    InputRightElement: rightIcon\n  }, nonLayoutProps, {\n    isFocused: isFocused,\n    isHovered: isHovered,\n    \"aria-hidden\": true,\n    importantForAccessibility: \"no\",\n    value: selectedItem ? selectedItem.label : \"\",\n    editable: false,\n    focusable: false,\n    isDisabled: isDisabled,\n    pointerEvents: \"none\",\n    variant: variant\n  }));\n  return Platform.OS === \"web\" ? React.createElement(Box, layoutProps, React.createElement(\"select\", _extends({\n    \"aria-readonly\": selectProps.readOnly,\n    required: selectProps.required,\n    disabled: isDisabled\n  }, focusProps, hoverProps, {\n    ref: mergeRefs([ref, _ref]),\n    onChange: function onChange(e) {\n      setValue(e.target.value);\n    },\n    value: selectedItem === null ? tempFix : value,\n    \"aria-label\": placeholder,\n    onFocus: function onFocus() {\n      setIsFocused(true);\n      onOpen && onOpen();\n    },\n    onBlur: function onBlur() {\n      setIsFocused(false);\n      onClose && onClose();\n    }\n  }, _webSelect), React.createElement(\"option\", {\n    disabled: true,\n    value: tempFix\n  }, placeholder), children), commonInput) : React.createElement(React.Fragment, null, React.createElement(Pressable, _extends({\n    onPress: function onPress() {\n      Keyboard.dismiss();\n      setIsOpen(true);\n      onOpen && onOpen();\n    },\n    disabled: isDisabled,\n    accessibilityLabel: accessibilityLabel,\n    accessibilityRole: \"button\",\n    ref: mergeRefs([ref, _ref])\n  }, layoutProps), commonInput), React.createElement(Actionsheet, _extends({\n    isOpen: isOpen,\n    onClose: handleClose\n  }, _actionSheet), React.createElement(Actionsheet.Content, _actionSheetContent, optimized ? React.createElement(FlatList, _extends({}, _actionSheetBody, {\n    data: flatListData,\n    keyExtractor: function keyExtractor(_item, index) {\n      return index.toString();\n    },\n    renderItem: function renderItem(param) {\n      var item = param.item;\n      var isSelected = selectedValue === (item === null || item === void 0 ? void 0 : item.value);\n      return React.createElement(Actionsheet.Item, _extends({\n        onPress: function onPress() {\n          if (!isDisabled) {\n            setValue(item === null || item === void 0 ? void 0 : item.value);\n          }\n        },\n        accessibilityState: {\n          selected: isSelected\n        }\n      }, item, _item, isSelected && _selectedItem), item === null || item === void 0 ? void 0 : item.label);\n    }\n  })) : React.createElement(ScrollView, _actionSheetBody, React.createElement(SelectContext.Provider, {\n    value: contextValue\n  }, children)))));\n};\n\n_s(Select, \"IbAdTt7VuO+lAC6mFv4h4Dchdxw=\", false, function () {\n  return [useFormControl, useFocusRing, useHover, usePropsResolution, useControllableState, useHasResponsiveProps];\n});\n\n_c = Select;\nexport default _c2 = memo(_c1 = forwardRef(Select));\n\nvar _c, _c1, _c2;\n\n$RefreshReg$(_c, \"Select\");\n$RefreshReg$(_c1, \"%default%$memo\");\n$RefreshReg$(_c2, \"%default%\");\n;\n;\n\n(function () {\n  var _a, _b;\n\n  if (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n    var currentExports = __webpack_module__.exports;\n    var prevExports = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n    self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n\n    if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n      __webpack_module__.hot.dispose(function (data) {\n        data.prevExports = currentExports;\n      });\n\n      import.meta.webpackHot.accept();\n\n      if (prevExports !== null) {\n        if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n          __webpack_module__.hot.invalidate();\n        } else {\n          self.$RefreshHelpers$.scheduleUpdate();\n        }\n      }\n    } else {\n      var isNoLongerABoundary = prevExports !== null;\n\n      if (isNoLongerABoundary) {\n        __webpack_module__.hot.invalidate();\n      }\n    }\n  }\n})();","map":{"version":3,"sources":["D:\\codes\\Next\\pomodoro-dash\\node_modules\\native-base\\lib\\module\\components\\primitives\\Select\\Select.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","forwardRef","memo","Actionsheet","Box","Input","useFocusRing","useControllableState","usePropsResolution","useHover","mergeRefs","useFormControl","ChevronDownIcon","ScrollView","extractInObject","stylingProps","FlatList","useHasResponsiveProps","Pressable","SelectContext","createContext","onValueChange","selectedValue","_selectedItem","_item","Select","isHovered","isHoveredProp","isFocused","isFocusedProp","isFocusVisible","isFocusVisibleProp","variant","props","ref","selectProps","isDisabled","nativeID","flatListData","disabled","tempFix","_ref","useRef","isOpen","setIsOpen","useState","setIsFocused","focusProps","hoverProps","children","dropdownIcon","dropdownCloseIcon","dropdownOpenIcon","placeholder","accessibilityLabel","defaultValue","onOpen","onClose","optimized","customDropdownIconProps","_actionSheet","_actionSheetContent","_actionSheetBody","_webSelect","resolvedProps","undefined","value","setValue","onChange","newValue","itemsList","Children","toArray","map","child","_child$props","_child$props2","label","selectedItemArray","filter","item","selectedItem","contextValue","useMemo","rightIcon","createElement","handleClose","push","layoutProps","nonLayoutProps","commonInput","InputRightElement","importantForAccessibility","editable","focusable","pointerEvents","Platform","OS","readOnly","required","e","onFocus","onBlur","Fragment","onPress","Keyboard","dismiss","accessibilityRole","Content","data","keyExtractor","index","toString","renderItem","isSelected","Item","accessibilityState","selected","Provider"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { forwardRef, memo } from 'react';\nimport { Platform, Keyboard } from 'react-native';\nimport { Actionsheet } from '../../composites/Actionsheet';\nimport Box from '../Box';\nimport { Input } from '../Input';\nimport { useFocusRing } from '@react-native-aria/focus';\nimport { useControllableState } from '../../../hooks';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { useHover } from '@react-native-aria/interactions';\nimport { mergeRefs } from '../../../utils';\nimport { useFormControl } from '../../composites/FormControl';\nimport { ChevronDownIcon } from '../Icon/Icons';\nimport { ScrollView } from '../../basic/ScrollView';\nimport { extractInObject, stylingProps } from '../../../theme/tools/utils';\nimport { FlatList } from '../../basic/FlatList';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { Pressable } from '../Pressable';\nexport const SelectContext = /*#__PURE__*/React.createContext({\n  onValueChange: () => {},\n  selectedValue: null,\n  _selectedItem: {},\n  _item: {}\n});\n\nconst Select = ({\n  isHovered: isHoveredProp,\n  isFocused: isFocusedProp,\n  isFocusVisible: isFocusVisibleProp,\n  variant,\n  ...props\n}, ref) => {\n  const selectProps = useFormControl({\n    isDisabled: props.isDisabled,\n    nativeID: props.nativeID\n  });\n  const flatListData = [];\n  const isDisabled = selectProps.disabled;\n  const tempFix = '__NativebasePlaceholder__';\n\n  const _ref = React.useRef(null);\n\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [isFocused, setIsFocused] = React.useState(false);\n  const {\n    focusProps,\n    isFocusVisible\n  } = useFocusRing();\n  const {\n    hoverProps,\n    isHovered\n  } = useHover({\n    isDisabled\n  }, _ref);\n  const {\n    onValueChange,\n    selectedValue,\n    children,\n    dropdownIcon,\n    dropdownCloseIcon,\n    dropdownOpenIcon,\n    placeholder,\n    accessibilityLabel,\n    defaultValue,\n    _item,\n    _selectedItem,\n    onOpen,\n    onClose,\n    optimized,\n    customDropdownIconProps,\n    _actionSheet,\n    _actionSheetContent,\n    _actionSheetBody,\n    _webSelect,\n    ...resolvedProps\n  } = usePropsResolution('Select', props, {\n    isDisabled,\n    isHovered: isHoveredProp || isHovered,\n    isFocused: isFocusedProp || isFocused,\n    isFocusVisible: isFocusVisibleProp || isFocusVisible\n  }, undefined);\n  const [value, setValue] = useControllableState({\n    value: selectedValue,\n    defaultValue,\n    onChange: newValue => {\n      onValueChange && onValueChange(newValue);\n      setIsOpen(false);\n    }\n  });\n  const itemsList = React.Children.toArray(children).map(child => {\n    var _child$props, _child$props2;\n\n    return {\n      label: child === null || child === void 0 ? void 0 : (_child$props = child.props) === null || _child$props === void 0 ? void 0 : _child$props.label,\n      value: child === null || child === void 0 ? void 0 : (_child$props2 = child.props) === null || _child$props2 === void 0 ? void 0 : _child$props2.value\n    };\n  });\n  const selectedItemArray = itemsList.filter(item => (item === null || item === void 0 ? void 0 : item.value) === value);\n  const selectedItem = selectedItemArray && selectedItemArray.length ? selectedItemArray[0] : null;\n  const contextValue = React.useMemo(() => {\n    return {\n      onValueChange: setValue,\n      selectedValue: value,\n      _selectedItem: _selectedItem !== null && _selectedItem !== void 0 ? _selectedItem : {},\n      _item: _item !== null && _item !== void 0 ? _item : {}\n    };\n  }, [value, setValue, _selectedItem, _item]); //TODO: refactor for responsive prop\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  const rightIcon = isOpen && dropdownOpenIcon ? dropdownOpenIcon : !isOpen && dropdownCloseIcon ? dropdownCloseIcon : dropdownIcon ? dropdownIcon : /*#__PURE__*/React.createElement(ChevronDownIcon, customDropdownIconProps);\n\n  const handleClose = () => {\n    setIsOpen(false);\n    onClose && onClose();\n  };\n\n  if (optimized) {\n    React.Children.toArray(children).map(child => {\n      flatListData.push(child.props);\n    });\n  }\n\n  const [layoutProps, nonLayoutProps] = extractInObject(resolvedProps, [...stylingProps.margin, ...stylingProps.flexbox, ...stylingProps.position, 'shadow', 'opacity']);\n  const commonInput = /*#__PURE__*/React.createElement(Input, _extends({\n    placeholder: placeholder,\n    InputRightElement: rightIcon\n  }, nonLayoutProps, {\n    // NOTE: Adding ts-ignore as we're not exposing isFocused in the Input component\n    // @ts-ignore-next-line\n    isFocused: isFocused,\n    isHovered: isHovered,\n    \"aria-hidden\": true,\n    importantForAccessibility: \"no\",\n    value: selectedItem ? selectedItem.label : '',\n    editable: false,\n    focusable: false,\n    isDisabled: isDisabled,\n    pointerEvents: \"none\",\n    variant: variant\n  }));\n  return Platform.OS === 'web' ? /*#__PURE__*/React.createElement(Box, layoutProps, /*#__PURE__*/React.createElement(\"select\", _extends({\n    \"aria-readonly\": selectProps.readOnly,\n    required: selectProps.required,\n    disabled: isDisabled\n  }, focusProps, hoverProps, {\n    ref: mergeRefs([ref, _ref]) //@ts-ignore\n    ,\n    onChange: e => {\n      setValue(e.target.value);\n    },\n    value: selectedItem === null ? tempFix : value,\n    \"aria-label\": placeholder,\n    onFocus: () => {\n      setIsFocused(true);\n      onOpen && onOpen();\n    },\n    onBlur: () => {\n      setIsFocused(false);\n      onClose && onClose();\n    }\n  }, _webSelect), /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    value: tempFix\n  }, placeholder), children), commonInput) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Pressable, _extends({\n    onPress: () => {\n      Keyboard.dismiss();\n      setIsOpen(true);\n      onOpen && onOpen();\n    },\n    disabled: isDisabled,\n    accessibilityLabel: accessibilityLabel,\n    accessibilityRole: \"button\",\n    ref: mergeRefs([ref, _ref])\n  }, layoutProps), commonInput), /*#__PURE__*/React.createElement(Actionsheet, _extends({\n    isOpen: isOpen,\n    onClose: handleClose\n  }, _actionSheet), /*#__PURE__*/React.createElement(Actionsheet.Content, _actionSheetContent, optimized ? /*#__PURE__*/React.createElement(FlatList, _extends({}, _actionSheetBody, {\n    data: flatListData // eslint-disable-next-line no-shadow\n    ,\n    keyExtractor: (_item, index) => index.toString(),\n    renderItem: ({\n      item\n    }) => {\n      const isSelected = selectedValue === (item === null || item === void 0 ? void 0 : item.value);\n      return /*#__PURE__*/React.createElement(Actionsheet.Item, _extends({\n        onPress: () => {\n          if (!isDisabled) {\n            setValue(item === null || item === void 0 ? void 0 : item.value);\n          }\n        },\n        accessibilityState: {\n          selected: isSelected\n        }\n      }, item, _item, isSelected && _selectedItem), item === null || item === void 0 ? void 0 : item.label);\n    }\n  })) : /*#__PURE__*/React.createElement(ScrollView, _actionSheetBody, /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: contextValue\n  }, children)))));\n};\n\nexport default /*#__PURE__*/memo( /*#__PURE__*/forwardRef(Select));\n//# sourceMappingURL=Select.js.map"]},"metadata":{},"sourceType":"module"}